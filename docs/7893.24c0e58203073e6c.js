"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[7893],{7893:(Un,ae,g)=>{g.r(ae),g.d(ae,{AllTabsModule:()=>Fn});var u=g(6814),h=g(258),_=g(5219),I=g(6997),Z=g(5348),C=g(6107),x=g(9432),e=g(8109),y=g(4175),T=g(9862);let pe=(()=>{class l extends y.P{constructor(t){super(t)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var d=g(6223),f=g(3999),b=g(6340),m=g(9552),A=g(4480),M=g(707),w=g(3530),q=g(4104),v=g(3714),O=g(6218);const de=["dt"];function me(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ue(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function _e(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.certificatName=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.year=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.degree=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.discription=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",26),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.university=o)}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",19)(31,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(32,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,16,"Certification Name")," "),e.xp6(2),e.Q6J("ngModel",t.certificatName)("placeholder",e.lcZ(5,18,"Enter Certification Name Here")),e.xp6(4),e.hij("",e.lcZ(9,20,"Year")," "),e.xp6(2),e.Q6J("ngModel",t.year)("placeholder",e.lcZ(11,22,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(15,24,"Degree")),e.xp6(2),e.Q6J("ngModel",t.degree)("placeholder",e.lcZ(17,26,"Enter Degree Here")),e.xp6(4),e.Oqu(e.lcZ(21,28,"Discription")),e.xp6(2),e.Q6J("ngModel",t.discription)("placeholder",e.lcZ(23,30,"Enter Discription Here")),e.xp6(4),e.Oqu(e.lcZ(27,32,"University Name")),e.xp6(2),e.Q6J("ngModel",t.university)("placeholder",e.lcZ(29,34,"Enter University Name Here")),e.xp6(3),e.Q6J("label",e.lcZ(32,36,"Insert New"))}}function ge(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function he(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th",38),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(o))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",39),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,13,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,15,"University")),e.xp6(3),e.Oqu(e.lcZ(16,17,"Degree")),e.xp6(3),e.Oqu(e.lcZ(19,19,"Discription")),e.xp6(3),e.Oqu(e.lcZ(22,21,"Year")),e.xp6(3),e.Oqu(e.lcZ(25,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(28,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(31,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(34,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(37,31,"Actions")))}const N=l=>({"null-color":l});function fe(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",42)(8,"span",41),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",42)(12,"span",41),e._uU(13,"university"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",42)(16,"span",41),e._uU(17,"degree"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",42)(20,"span",41),e._uU(21,"discription"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",42)(24,"span",41),e._uU(25,"year"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",42)(28,"span",41),e._uU(29,"creationTime"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",42)(32,"span",41),e._uU(33,"lastModificationTime"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",42)(36,"span",41),e._uU(37,"creatorName"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",42)(40,"span",41),e._uU(41,"lastModifierName"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td")(44,"div",43)(45,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(46,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,N,!t.certificatName)),e.xp6(3),e.hij(" ",t.certificatName?t.certificatName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,N,!t.university)),e.xp6(3),e.hij(" ",t.university?t.university:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,N,!t.degree)),e.xp6(3),e.hij(" ",t.degree?t.degree:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,N,!t.discription)),e.xp6(3),e.hij(" ",t.discription?t.discription:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,N,!t.year)),e.xp6(3),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,N,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,N,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,N,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,N,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ze(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.certificatName=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.year=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.degree=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",26),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.university=o)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,15,"Certification Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.certificatName)("placeholder",e.lcZ(5,17,"Enter Certification Name Here")),e.xp6(4),e.hij("",e.lcZ(9,19,"Year")," "),e.xp6(2),e.Q6J("ngModel",t.product.year)("placeholder",e.lcZ(11,21,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(15,23,"Degree")),e.xp6(2),e.Q6J("ngModel",t.product.degree)("placeholder",e.lcZ(17,25,"Enter Degree Here")),e.xp6(4),e.Oqu(e.lcZ(21,27,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(23,29,"Enter Discription Here")),e.xp6(4),e.Oqu(e.lcZ(27,31,"University Name")),e.xp6(2),e.Q6J("ngModel",t.product.university)("placeholder",e.lcZ(29,33,"Enter University Name Here"))}}function Ce(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function xe(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function ye(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function Te(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const Q=()=>({width:"450px"});let be=(()=>{class l{constructor(t,n,o){this.employeeCertificationService=t,this.messageService=n,this.route=o,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCertification",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),I.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeCertificationService.setCulture(t),this.employeeCertificationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this.employeeCertificationService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeCertificationService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(){let t={certificatName:this.certificatName,employeeId:this.currentId,year:this.year,degree:this.degree,discription:this.discription,university:this.university};console.log(t),this.employeeCertificationService.Register(t).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,this.messageService.add({severity:"error",summary:"Error",detail:n,life:3e3})}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.certificatName=null,this.year=null,this.degree=null,this.discription=null,this.university=null}loadData(t,n,o,i,a){this.loading=!0;let p={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:this.currentId};p.sortType=this.sortOrder,this.employeeCertificationService.GetPage(p).subscribe({next:r=>{console.log(r),this.allData=r.data,console.log(r.data),this.totalItems=r.totalItems,this.loading=!1,console.log(this.selectedItems)},error:r=>{console.log(r),this.messageService.add({severity:"error",summary:"Error",detail:r,life:3e3}),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n),this.employeeCertificationService.Edit({certificatName:n.certificatName,employeeId:this.currentId,year:n.year,degree:n.degree,discription:n.discription,university:n.university,id:n.id}).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeCertificationService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(pe),e.Y36(_.ez),e.Y36(h.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-certification"]],viewQuery:function(n,o){if(1&n&&e.Gf(de,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([_.ez]),e.jDz],decls:29,vars:41,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["pInputText","","id","name-ar","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","numberOfHours","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pInputText","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,me,5,7,"ng-template",1)(3,ue,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,_e,33,38,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,ge,8,7,"ng-template",7)(10,he,38,33,"ng-template",8)(11,fe,47,38,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Ze,30,35,"ng-template",4)(15,Ce,4,6,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,xe,6,4,"span",14),e.qZA(),e.YNc(21,ye,2,0,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(28,Te,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(37,Q)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,29,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(38,Q)),e.Q6J("visible",o.productDialog)("header",e.lcZ(13,31,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(39,Q)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(17,33,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(40,Q)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(23,35,"Confirm Delete"))("modal",!0))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.JJ,d.Q7,d.On,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,O.g]})}return l})(),Ae=(()=>{class l extends y.P{constructor(t){super(t)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var E=g(6760);const Me=["dt"];function qe(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ve(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function we(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.courseName=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dateFrom=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",22),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dateTo=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",25),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.location=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",27),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.discription=o)}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",19)(31,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(32,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,20,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.courseName)("placeholder",e.lcZ(5,22,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,24,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.dateFrom)("placeholder",e.lcZ(11,26,"From")),e.xp6(4),e.hij("",e.lcZ(15,28,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.dateTo)("placeholder",e.lcZ(17,30,"To")),e.xp6(4),e.Oqu(e.lcZ(21,32,"Location")),e.xp6(2),e.Q6J("ngModel",t.location)("placeholder",e.lcZ(23,34,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,36,"Discription")),e.xp6(2),e.Q6J("ngModel",t.discription)("placeholder",e.lcZ(29,38,"Enter Discription Here")),e.xp6(3),e.Q6J("label",e.lcZ(32,40,"Insert New"))}}function Ne(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ee(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th",38),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(o))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",39),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,13,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,15,"Location")),e.xp6(3),e.Oqu(e.lcZ(16,17,"Date From")),e.xp6(3),e.Oqu(e.lcZ(19,19,"Date To")),e.xp6(3),e.Oqu(e.lcZ(22,21,"Discription")),e.xp6(3),e.Oqu(e.lcZ(25,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(28,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(31,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(34,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(37,31,"Actions")))}const D=l=>({"null-color":l});function De(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",42)(8,"span",41),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",42)(12,"span",41),e._uU(13,"location"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",42)(16,"span",41),e._uU(17,"dateFrom"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",42)(21,"span",41),e._uU(22,"dateTo"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",42)(26,"span",41),e._uU(27,"discription"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",42)(30,"span",41),e._uU(31,"creationTime"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",42)(34,"span",41),e._uU(35,"lastModificationTime"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",42)(38,"span",41),e._uU(39,"creatorName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",42)(42,"span",41),e._uU(43,"lastModifierName"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td")(46,"div",43)(47,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(48,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,D,!t.courseName)),e.xp6(3),e.hij(" ",t.courseName?t.courseName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,D,!t.location)),e.xp6(3),e.hij(" ",t.location?t.location:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,D,!t.dateFrom)),e.xp6(3),e.hij(" ",e.xi3(19,20,t.dateFrom,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(32,D,!t.dateTo)),e.xp6(3),e.hij(" ",e.xi3(24,23,t.dateTo,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(34,D,!t.discription)),e.xp6(3),e.hij(" ",t.discription?t.discription:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,D,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,D,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,D,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,D,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Fe(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.courseName=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateFrom=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",22),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateTo=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",25),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.location=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",27),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=o)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function Ue(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Le(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Ie(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function Je(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const K=()=>({width:"450px"});let ke=(()=>{class l{constructor(t,n,o,i){this.employeeCourseService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCourse",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),I.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeCourseService.setCulture(t),this.employeeCourseService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),t.dateFrom=this.convertDate(t.dateFrom,"MM/dd/yyyy"),t.dateTo=this.convertDate(t.dateTo,"MM/dd/yyyy"),this.employeeCourseService.GetById(t.id).subscribe({next:n=>{console.log(n.data),n.data.dateFrom=this.convertDate(n.data.dateFrom,"MM/dd/yyyy"),n.data.dateTo=this.convertDate(n.data.dateTo,"MM/dd/yyyy"),console.log(n.data.dateFrom),console.log(n.data.dateTo),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeCourseService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(){let t={courseName:this.courseName,employeeId:this.currentId,dateFrom:this.convertDate(this.dateFrom,"yyyy-MM-ddTHH:mm:ss"),dateTo:this.convertDate(this.dateTo,"yyyy-MM-ddTHH:mm:ss"),location:this.location,discription:this.discription};console.log(t),this.employeeCourseService.Register(t).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,this.messageService.add({severity:"error",summary:"Error",detail:n,life:3e3})}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.courseName=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.discription=null}loadData(t,n,o,i,a){this.loading=!0;let p={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:this.currentId};p.sortType=this.sortOrder,this.employeeCourseService.GetPage(p).subscribe({next:r=>{console.log(r),this.allData=r.data,console.log(r.data),this.totalItems=r.totalItems,this.loading=!1,console.log(this.selectedItems)},error:r=>{console.log(r),this.messageService.add({severity:"error",summary:"Error",detail:r,life:3e3}),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={courseName:n.courseName,employeeId:this.currentId,dateFrom:this.convertDate(n.dateFrom,"yyyy-MM-ddTHH:mm:ss"),dateTo:this.convertDate(n.dateTo,"yyyy-MM-ddTHH:mm:ss"),location:n.location,discription:n.discription,id:n.id};this.employeeCourseService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeCourseService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(Ae),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-course"]],viewQuery:function(n,o){if(1&n&&e.Gf(Me,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([_.ez,u.uU]),e.jDz],decls:30,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,qe,5,7,"ng-template",1)(3,ve,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,we,33,42,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,Ne,8,7,"ng-template",7)(10,Ee,38,33,"ng-template",8)(11,De,49,44,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Fe,30,39,"ng-template",4)(15,Ue,4,6,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,Le,6,4,"span",14),e.qZA(),e.YNc(21,Ie,2,0,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,Je,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,K)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,K)),e.Q6J("visible",o.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,K)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(17,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,K)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(23,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.JJ,d.Q7,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,O.g,E.f]})}return l})(),Pe=(()=>{class l extends y.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var F=g(3965);const Se=["dt"];function Oe(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function He(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Re(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenant=o)})("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectCovenant(o))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.date=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.cost=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nots=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,16,"Covenant Type")),e.xp6(2),e.Q6J("ngModel",t.selectedCovenant)("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(5,18,"Enter Covenant Type")),e.xp6(4),e.hij("",e.lcZ(9,20,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(11,22,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(15,24,"Cost")),e.xp6(2),e.Q6J("ngModel",t.cost)("placeholder",e.lcZ(17,26,"Enter Cost Here")),e.xp6(4),e.Oqu(e.lcZ(21,28,"Notes")),e.xp6(2),e.Q6J("ngModel",t.nots)("placeholder",e.lcZ(23,30,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(26,32,"Insert New"))}}function Qe(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ke(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenant=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.date=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.cost=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nots=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,16,"Covenant Type")),e.xp6(2),e.Q6J("ngModel",t.selectedCovenant)("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(5,18,"Enter Covenant Type")),e.xp6(4),e.hij(" ",e.lcZ(9,20,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(11,22,"Date")),e.xp6(4),e.Oqu(e.lcZ(15,24,"Cost")),e.xp6(2),e.Q6J("ngModel",t.cost)("placeholder",e.lcZ(17,26,"Enter Cost here")),e.xp6(4),e.Oqu(e.lcZ(21,28,"Notes")),e.xp6(2),e.Q6J("ngModel",t.nots)("placeholder",e.lcZ(23,30,"Enter notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(26,32,"Insert New"))}}function Ge(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th",38),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(o))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",39),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,12,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,14,"Date")),e.xp6(3),e.Oqu(e.lcZ(16,16,"Cost")),e.xp6(3),e.Oqu(e.lcZ(19,18,"Notes")),e.xp6(3),e.Oqu(e.lcZ(22,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(25,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(28,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(31,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(34,28,"Actions")))}const J=l=>({"null-color":l});function je(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",42)(8,"span",41),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",42)(12,"span",41),e._uU(13,"date"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",42)(17,"span",41),e._uU(18,"cost"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"td",42)(21,"span",41),e._uU(22,"nots"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",42)(25,"span",41),e._uU(26,"creationTime"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"td",42)(29,"span",41),e._uU(30,"lastModificationTime"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"td",42)(33,"span",41),e._uU(34,"creatorName"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"td",42)(37,"span",41),e._uU(38,"lastModifierName"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td")(41,"div",43)(42,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(43,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(21,J,!t.covenantName)),e.xp6(3),e.hij(" ",t.covenantName?t.covenantName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,J,!t.date)),e.xp6(3),e.hij(" ",e.xi3(15,18,t.date,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,J,!t.cost)),e.xp6(3),e.hij(" ",t.cost," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,J,!t.nots)),e.xp6(3),e.hij(" ",t.nots?t.nots:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,J,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,J,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,J,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,J,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ve(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantEdit=o)})("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantEditFun(o))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.date=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.cost=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.nots=o)}),e.ALo(23,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,15,"Covenant Type")),e.xp6(2),e.Q6J("ngModel",t.selectedCovenantEdit)("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(5,17,"Enter Covenant Type")),e.xp6(4),e.hij("",e.lcZ(9,19,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.date)("placeholder",e.lcZ(11,21,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(15,23,"Cost")),e.xp6(2),e.Q6J("ngModel",t.product.cost)("placeholder",e.lcZ(17,25,"Enter Cost Here")),e.xp6(4),e.Oqu(e.lcZ(21,27,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.nots)("placeholder",e.lcZ(23,29,"Enter Notes Here"))}}function Ye(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Be(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function ze(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function $e(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const G=()=>({width:"450px"});let We=(()=>{class l{constructor(t,n,o,i){this.employeeConvenantService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCovenant",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),I.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeConvenantService.setCulture(t),this.employeeConvenantService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getCovenantTypes()}editProduct(t){console.log(t.id),t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.employeeConvenantService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.selectedCovenantEdit=this.dropdownItemsCovenantType.find(o=>o.id==n.data.covenantId),console.log("selectedCovenantEdit => "),console.log(this.selectedCovenantEdit),n.data.date=this.convertDate(n.data.date,"MM/dd/yyyy"),console.log(n.data.date),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeConvenantService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(){let t={covenantId:this.selectedCovenantType,employeeId:this.currentId,date:this.convertDate(this.date,"yyyy-MM-ddTHH:mm:ss"),cost:this.cost,nots:this.nots};console.log(t),this.employeeConvenantService.Register(t).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,this.messageService.add({severity:"error",summary:"Error",detail:n,life:3e3})}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedCovenantType=null,this.date=null,this.cost=null,this.nots=null,this.selectedCovenant=null}loadData(t,n,o,i,a){this.loading=!0;let p={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:this.currentId};p.sortType=this.sortOrder,this.employeeConvenantService.GetPage(p).subscribe({next:r=>{console.log(r),this.allData=r.data,console.log(r.data),this.totalItems=r.totalItems,this.loading=!1,console.log(this.selectedItems)},error:r=>{console.log(r),this.messageService.add({severity:"error",summary:"Error",detail:r,life:3e3}),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={covenantId:this.selectedCovenantEdit.id,employeeId:this.currentId,date:this.convertDate(n.date,"yyyy-MM-ddTHH:mm:ss"),cost:n.cost,nots:n.nots,id:n.id};this.employeeConvenantService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeConvenantService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}getCovenantTypes(){this.employeeConvenantService.getDropdownField("Covenant").subscribe({next:t=>{console.log(t),this.dropdownItemsCovenantType=t.data,console.log(this.dropdownItemsCovenantType)},error:t=>{console.log(t)}})}selectCovenant(t){console.log(t),this.selectedCovenantType=t.value.id,this.selectedCovenant=t.value}selectedCovenantEditFun(t){this.selectedCovenantEdit=t.value}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(Pe),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-covenant"]],viewQuery:function(n,o){if(1&n&&e.Gf(Se,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([_.ez,u.uU]),e.jDz],decls:31,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","ContractType"],["optionLabel","name",3,"ngModel","options","placeholder","ngModelChange","onChange"],["htmlFor","name-ar"],["name","date","inputId","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","Cost","type","number",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],["optionLabel","name",3,"ngModel","options","placeholder","ngModelChange"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Oe,5,7,"ng-template",1)(3,He,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Re,27,34,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,Qe,8,7,"ng-template",7)(10,Ke,27,34,"ng-template",4)(11,Ge,35,30,"ng-template",8)(12,je,44,37,"ng-template",9),e.qZA(),e.TgZ(13,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(14,"translate"),e.YNc(15,Ve,24,31,"ng-template",4)(16,Ye,4,6,"ng-template",10),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Be,6,4,"span",14),e.qZA(),e.YNc(22,ze,2,0,"ng-template",10),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,$e,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,G)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(6),e.Akn(e.DdM(41,G)),e.Q6J("visible",o.productDialog)("header",e.lcZ(14,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,G)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(18,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,G)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(24,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.wV,d.JJ,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,O.g,F.Lt,E.f]})}return l})(),Xe=(()=>{class l extends y.P{constructor(t){super(t)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const et=["dt"];function tt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ot(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function nt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.job=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dateFrom=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",22),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dateTo=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",25),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.position=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",27),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.discreption=o)}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",19)(31,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(32,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,20,"Job")),e.xp6(2),e.Q6J("ngModel",t.job)("placeholder",e.lcZ(5,22,"Enter Job Here")),e.xp6(4),e.hij("",e.lcZ(9,24,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.dateFrom)("placeholder",e.lcZ(11,26,"From")),e.xp6(4),e.hij("",e.lcZ(15,28,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.dateTo)("placeholder",e.lcZ(17,30,"To")),e.xp6(4),e.Oqu(e.lcZ(21,32,"Position")),e.xp6(2),e.Q6J("ngModel",t.position)("placeholder",e.lcZ(23,34,"Enter Position Here")),e.xp6(4),e.Oqu(e.lcZ(27,36,"Discription")),e.xp6(2),e.Q6J("ngModel",t.discreption)("placeholder",e.lcZ(29,38,"Enter Discription Here")),e.xp6(3),e.Q6J("label",e.lcZ(32,40,"Insert New"))}}function lt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function it(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th",38),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,13,"Job")," "),e.xp6(3),e.Oqu(e.lcZ(12,15,"Position")),e.xp6(3),e.Oqu(e.lcZ(15,17,"Discription")),e.xp6(3),e.Oqu(e.lcZ(18,19,"Date From")),e.xp6(3),e.Oqu(e.lcZ(21,21,"Date To")),e.xp6(3),e.Oqu(e.lcZ(24,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(27,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(30,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(33,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(36,31,"Actions")))}const U=l=>({"null-color":l});function at(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",39),e.qZA(),e.TgZ(3,"td")(4,"span",40),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",41)(8,"span",40),e._uU(9,"Job"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",41)(12,"span",40),e._uU(13,"position"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",41)(16,"span",40),e._uU(17,"discreption"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",41)(20,"span",40),e._uU(21,"dateFrom"),e.qZA(),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td",41)(25,"span",40),e._uU(26,"dateTo"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td",41)(30,"span",40),e._uU(31,"creationTime"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",41)(34,"span",40),e._uU(35,"lastModificationTime"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",41)(38,"span",40),e._uU(39,"creatorName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",41)(42,"span",40),e._uU(43,"lastModifierName"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td")(46,"div",42)(47,"button",43),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(48,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,U,!t.job)),e.xp6(3),e.hij(" ",t.job?t.job:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,U,!t.position)),e.xp6(3),e.hij(" ",t.position?t.position:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,U,!t.discreption)),e.xp6(3),e.hij(" ",t.discreption?t.discreption:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,U,!t.dateFrom)),e.xp6(3),e.hij(" ",e.xi3(23,20,t.dateFrom,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(34,U,!t.dateTo)),e.xp6(3),e.hij(" ",e.xi3(28,23,t.dateTo,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(36,U,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,U,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,U,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,U,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function st(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.job=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateFrom=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",22),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateTo=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",25),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.position=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",27),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discreption=o)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Job")," "),e.xp6(2),e.Q6J("ngModel",t.product.job)("placeholder",e.lcZ(5,21,"Enter Job Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Position")),e.xp6(2),e.Q6J("ngModel",t.product.position)("placeholder",e.lcZ(23,33,"Enter Position Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discreption)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function rt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function ct(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function pt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function dt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const j=()=>({width:"450px"});let mt=(()=>{class l{constructor(t,n,o,i){this.employeeExperienceService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeExperience",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),I.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeExperienceService.setCulture(t),this.employeeExperienceService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),t.dateFrom=this.convertDate(t.dateFrom,"MM/dd/yyyy"),t.dateTo=this.convertDate(t.dateTo,"MM/dd/yyyy"),this.employeeExperienceService.GetById(t.id).subscribe({next:n=>{console.log(n.data),n.data.dateFrom=this.convertDate(n.data.dateFrom,"MM/dd/yyyy"),n.data.dateTo=this.convertDate(n.data.dateTo,"MM/dd/yyyy"),console.log(n.data.dateFrom),console.log(n.data.dateTo),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeExperienceService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(){let t={job:this.job,employeeId:this.currentId,dateFrom:this.convertDate(this.dateFrom,"yyyy-MM-ddTHH:mm:ss"),dateTo:this.convertDate(this.dateTo,"yyyy-MM-ddTHH:mm:ss"),position:this.position,discreption:this.discreption};console.log(t),this.employeeExperienceService.Register(t).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,this.messageService.add({severity:"error",summary:"Error",detail:n,life:3e3})}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.job=null,this.dateFrom=null,this.dateTo=null,this.position=null,this.discreption=null}loadData(t,n,o,i,a){this.loading=!0;let p={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:this.currentId};p.sortType=this.sortOrder,this.employeeExperienceService.GetPage(p).subscribe({next:r=>{console.log(r),this.allData=r.data,console.log(r.data),this.totalItems=r.totalItems,this.loading=!1,console.log(this.selectedItems)},error:r=>{console.log(r),this.messageService.add({severity:"error",summary:"Error",detail:r,life:3e3}),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={job:n.job,employeeId:this.currentId,dateFrom:this.convertDate(n.dateFrom,"yyyy-MM-ddTHH:mm:ss"),dateTo:this.convertDate(n.dateTo,"yyyy-MM-ddTHH:mm:ss"),position:n.position,discreption:n.discreption,id:n.id};this.employeeExperienceService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeExperienceService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(Xe),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-experience"]],viewQuery:function(n,o){if(1&n&&e.Gf(et,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([_.ez,u.uU]),e.jDz],decls:30,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","position","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,tt,5,7,"ng-template",1)(3,ot,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,nt,33,42,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,lt,8,7,"ng-template",7)(10,it,37,33,"ng-template",8)(11,at,49,44,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,st,30,39,"ng-template",4)(15,rt,4,6,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,ct,6,4,"span",14),e.qZA(),e.YNc(21,pt,2,0,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,dt,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,j)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,j)),e.Q6J("visible",o.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,j)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(17,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,j)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(23,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.JJ,d.Q7,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,O.g,E.f]})}return l})(),ut=(()=>{class l extends y.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown?culture=${this.culture}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const _t=["dt"];function gt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ht(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ft(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.personName=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-dropdown",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelation=o)})("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectRelativeRelation(o))}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.birthdate=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",20),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.discreption=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,16,"Person Name")),e.xp6(2),e.Q6J("ngModel",t.personName)("placeholder",e.lcZ(5,18,"Enter Person Name Here")),e.xp6(4),e.Oqu(e.lcZ(9,20,"Relative Relation Type")),e.xp6(2),e.Q6J("ngModel",t.selectedRelativeRelation)("options",t.dropdownItemsRelativeRelationType)("placeholder",e.lcZ(11,22,"Enter Relative Relation Type")),e.xp6(4),e.Oqu(e.lcZ(15,24,"BirthDate")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.birthdate)("placeholder",e.lcZ(17,26,"Enter BirthDate Here")),e.xp6(4),e.Oqu(e.lcZ(21,28,"Discription")),e.xp6(2),e.Q6J("ngModel",t.discreption)("placeholder",e.lcZ(23,30,"Enter Discription Here")),e.xp6(3),e.Q6J("label",e.lcZ(26,32,"Insert New"))}}function Zt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",27)(1,"h5",28),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",29),e._UZ(5,"i",30),e.TgZ(6,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ct(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",22),e._uU(2,"RelativeRelation Type"),e.qZA(),e.TgZ(3,"p-dropdown",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelation=o)}),e.qZA()(),e.TgZ(4,"div",19)(5,"label",24),e._uU(6,"date "),e.qZA(),e.TgZ(7,"p-calendar",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.date=o)}),e.qZA()(),e.TgZ(8,"div",19)(9,"label",34),e._uU(10,"Cost"),e.qZA(),e.TgZ(11,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.cost=o)}),e.qZA()(),e.TgZ(12,"div",19)(13,"label",20),e._uU(14,"Notes"),e.qZA(),e.TgZ(15,"textarea",36),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nots=o)}),e.qZA()(),e.TgZ(16,"div",19)(17,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedRelativeRelation)("options",t.dropdownItemsRelativeRelationType),e.xp6(4),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date),e.xp6(4),e.Q6J("ngModel",t.cost),e.xp6(4),e.Q6J("ngModel",t.nots)}}function xt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",38),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",39),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",40),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,12,"Person Name")," "),e.xp6(3),e.Oqu(e.lcZ(12,14,"Relative Relation Name")),e.xp6(3),e.Oqu(e.lcZ(15,16,"BirthDate")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Discription")),e.xp6(3),e.Oqu(e.lcZ(21,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(24,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(30,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"Actions")))}const k=l=>({"null-color":l});function yt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",41),e.qZA(),e.TgZ(3,"td")(4,"span",42),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",43)(8,"span",42),e._uU(9,"personName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",43)(12,"span",42),e._uU(13,"relativeRelationName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",43)(16,"span",42),e._uU(17,"birthDate"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",43)(21,"span",42),e._uU(22,"discreption"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",43)(25,"span",42),e._uU(26,"creationTime"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"td",43)(29,"span",42),e._uU(30,"lastModificationTime"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"td",43)(33,"span",42),e._uU(34,"creatorName"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"td",43)(37,"span",42),e._uU(38,"lastModifierName"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td")(41,"div",44)(42,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(43,"button",46),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(21,k,!t.personName)),e.xp6(3),e.hij(" ",t.personName?t.personName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,k,!t.relativeRelationName)),e.xp6(3),e.hij(" ",t.relativeRelationName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,k,!t.birthDate)),e.xp6(3),e.hij(" ",e.xi3(19,18,t.birthDate,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,k,!t.discreption)),e.xp6(3),e.hij(" ",t.discreption?t.discreption:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,k,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,k,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,k,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,k,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Tt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.personName=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-dropdown",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelationEdit=o)})("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelationEditFun(o))}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.birthDate=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",20),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discreption=o)}),e.ALo(23,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,15,"Person Name")),e.xp6(2),e.Q6J("ngModel",t.product.personName)("placeholder",e.lcZ(5,17,"Enter Person Name Here")),e.xp6(4),e.Oqu(e.lcZ(9,19,"Relative Relation Type")),e.xp6(2),e.Q6J("ngModel",t.selectedRelativeRelationEdit)("options",t.dropdownItemsRelativeRelationType)("placeholder",e.lcZ(11,21,"Enter Relative Relation Type")),e.xp6(4),e.hij("",e.lcZ(15,23,"BirthDate")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.birthDate)("placeholder",e.lcZ(17,25,"Enter BirthDate Here")),e.xp6(4),e.Oqu(e.lcZ(21,27,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discreption)("placeholder",e.lcZ(23,29,"Enter Discription Here"))}}function bt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function At(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Mt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function qt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const V=()=>({width:"450px"});let vt=(()=>{class l{constructor(t,n,o,i){this.employeeFamilyService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeFamily",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),I.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeFamilyService.setCulture(t),this.employeeFamilyService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getRelativeRelationTypes()}editProduct(t){console.log(t.id),t.birthDate=this.convertDate(t.birthDate,"MM/dd/yyyy"),this.employeeFamilyService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.selectedRelativeRelationEdit=this.dropdownItemsRelativeRelationType.find(o=>o.id==n.data.relativeRelationId),console.log("selectedRelativeRelationEdit => "),console.log(this.selectedRelativeRelationEdit),n.data.birthDate=this.convertDate(n.data.birthDate,"MM/dd/yyyy"),console.log(n.data.date),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeFamilyService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(){let t={relativeRelationId:this.selectedRelativeRelationType,employeeId:this.currentId,birthDate:this.convertDate(this.birthdate,"yyyy-MM-ddTHH:mm:ss"),personName:this.personName,discreption:this.discreption};console.log(t),this.employeeFamilyService.Register(t).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,this.messageService.add({severity:"error",summary:"Error",detail:n,life:3e3})}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedRelativeRelationType=null,this.birthdate=null,this.personName=null,this.discreption=null,this.selectedRelativeRelation=null}loadData(t,n,o,i,a){this.loading=!0;let p={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:this.currentId};p.sortType=this.sortOrder,this.employeeFamilyService.GetPage(p).subscribe({next:r=>{console.log(r),this.allData=r.data,console.log(r.data),this.totalItems=r.totalItems,this.loading=!1,console.log(this.selectedItems)},error:r=>{console.log(r),this.messageService.add({severity:"error",summary:"Error",detail:r,life:3e3}),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={relativeRelationId:this.selectedRelativeRelationEdit.id,employeeId:this.currentId,birthDate:this.convertDate(n.birthDate,"yyyy-MM-ddTHH:mm:ss"),personName:n.personName,discreption:n.discreption,id:n.id};this.employeeFamilyService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeFamilyService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}getRelativeRelationTypes(){this.employeeFamilyService.getDropdownField("RelativeRelation").subscribe({next:t=>{console.log(t),this.dropdownItemsRelativeRelationType=t.data,console.log(this.dropdownItemsRelativeRelationType)},error:t=>{console.log(t)}})}selectRelativeRelation(t){console.log(t),this.selectedRelativeRelationType=t.value.id,this.selectedRelativeRelation=t.value}selectedRelativeRelationEditFun(t){this.selectedRelativeRelationEdit=t.value}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(ut),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-family"]],viewQuery:function(n,o){if(1&n&&e.Gf(_t,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([_.ez,u.uU]),e.jDz],decls:31,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","ContractType"],["optionLabel","name",3,"ngModel","options","placeholder","ngModelChange","onChange"],["htmlFor","name-ar"],["name","date","inputId","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],["optionLabel","name","placeholder","Enter RelativeRelation Type",3,"ngModel","options","ngModelChange"],["name","date","inputId","date","placeholder","date",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","placeholder","Enter Cost here","id","Cost","type","number",3,"ngModel","ngModelChange"],["pInputTextarea","","id","new-notes","placeholder","Enter notes Here","type","text",3,"ngModel","ngModelChange"],["pButton","","label","Insert New",1,"w-25",3,"click"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,gt,5,7,"ng-template",1)(3,ht,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,ft,27,34,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,Zt,8,7,"ng-template",7)(10,Ct,18,7,"ng-template",4)(11,xt,34,30,"ng-template",8)(12,yt,44,37,"ng-template",9),e.qZA(),e.TgZ(13,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(14,"translate"),e.YNc(15,Tt,24,31,"ng-template",4)(16,bt,4,6,"ng-template",10),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,At,6,4,"span",14),e.qZA(),e.YNc(22,Mt,2,0,"ng-template",10),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,qt,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,V)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(6),e.Akn(e.DdM(41,V)),e.Q6J("visible",o.productDialog)("header",e.lcZ(14,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,V)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(18,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,V)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(24,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.wV,d.JJ,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,O.g,F.Lt,E.f]})}return l})();var wt=g(553);let Nt=(()=>{class l extends y.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var Et=g(3722);const Dt=["dt"];function Ft(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ut(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Lt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelation=o)})("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectRelativeRelation(o))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.date=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"textarea",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.discreption=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p-fileUpload",27),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onFileSelect(o))}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,15,"Document Required Type")),e.xp6(2),e.Q6J("ngModel",t.selectedRelativeRelation)("options",t.dropdownItemsRelativeRelationType)("placeholder",e.lcZ(5,17,"Enter Document Required Type")),e.xp6(4),e.Oqu(e.lcZ(9,19,"Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(11,21,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(15,23,"Discription")),e.xp6(2),e.Q6J("ngModel",t.discreption)("placeholder",e.lcZ(17,25,"Enter Discription Here")),e.xp6(4),e.hij("",e.lcZ(21,27,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(23,29,"Choose")),e.xp6(3),e.Q6J("label",e.lcZ(26,31,"Insert New"))}}function It(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Jt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2,"RelativeRelation Type"),e.qZA(),e.TgZ(3,"p-dropdown",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelation=o)}),e.qZA()(),e.TgZ(4,"div",19)(5,"label",22),e._uU(6,"date "),e.qZA(),e.TgZ(7,"p-calendar",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.date=o)}),e.qZA()(),e.TgZ(8,"div",19)(9,"label",36),e._uU(10,"Cost"),e.qZA(),e.TgZ(11,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.cost=o)}),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14,"Notes"),e.qZA(),e.TgZ(15,"textarea",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nots=o)}),e.qZA()(),e.TgZ(16,"div",19)(17,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedRelativeRelation)("options",t.dropdownItemsRelativeRelationType),e.xp6(4),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date),e.xp6(4),e.Q6J("ngModel",t.cost),e.xp6(4),e.Q6J("ngModel",t.nots)}}function kt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",40),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",41),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",42),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,12,"Document Required Name")," "),e.xp6(3),e.Oqu(e.lcZ(12,14,"Date")),e.xp6(3),e.Oqu(e.lcZ(15,16,"Url")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Discription")),e.xp6(3),e.Oqu(e.lcZ(21,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(24,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(30,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"Actions")))}const S=l=>({"null-color":l});function Pt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",43),e.qZA(),e.TgZ(3,"td")(4,"span",44),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",45)(8,"span",44),e._uU(9,"documentRequiredName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",45)(12,"span",44),e._uU(13,"date"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td")(17,"span",44),e._uU(18,"Url"),e.qZA(),e.TgZ(19,"a",46),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"td",45)(23,"span",44),e._uU(24,"discreption"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"td",45)(27,"span",44),e._uU(28,"creationTime"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td",45)(31,"span",44),e._uU(32,"lastModificationTime"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"td",45)(35,"span",44),e._uU(36,"creatorName"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",45)(39,"span",44),e._uU(40,"lastModifierName"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td")(43,"div",47)(44,"button",48),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(45,"button",49),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit,n=e.oxw();e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,S,!t.documentRequiredName)),e.xp6(3),e.hij(" ",t.documentRequiredName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,S,!t.date)),e.xp6(3),e.hij(" ",e.xi3(15,18,t.date,"dd/MM/YYYY")," "),e.xp6(5),e.Q6J("href",n.baseUrlFile.concat("/",t.url),e.LSH),e.xp6(1),e.Oqu(e.lcZ(21,21,"View")),e.xp6(2),e.Q6J("ngClass",e.VKq(27,S,!t.discreption)),e.xp6(3),e.hij(" ",t.discreption?t.discreption:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,S,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,S,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,S,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,S,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function St(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelationEdit=o)})("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelationEditFun(o))}),e.qZA()(),e.TgZ(5,"div",19)(6,"label",22),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.date=o)}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",19)(12,"label",24),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"textarea",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discreption=o)}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",19)(18,"label",26),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"p-fileUpload",27),e.NdJ("onSelect",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onFileSelect(o))}),e.ALo(22,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,13,"Document Required Type")),e.xp6(2),e.Q6J("ngModel",t.selectedRelativeRelationEdit)("options",t.dropdownItemsRelativeRelationType),e.xp6(3),e.hij("",e.lcZ(8,15,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.date)("placeholder",e.lcZ(10,17,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(14,19,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discreption)("placeholder",e.lcZ(16,21,"Enter Discription Here")),e.xp6(4),e.hij(" ",e.lcZ(20,23,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(22,25,"Choose"))}}function Ot(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Ht(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Rt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function Qt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const Y=()=>({width:"450px"});let Kt=(()=>{class l{constructor(t,n,o,i){this.employeeFileService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.baseUrlFile=wt.N.mediaUrl}ngOnInit(){this.endPoint="EmployeeFile",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),I.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeFileService.setCulture(t),this.employeeFileService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getRelativeRelationTypes()}editProduct(t){console.log(t.id),t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.employeeFileService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.selectedRelativeRelationEdit=this.dropdownItemsRelativeRelationType.find(o=>o.id==n.data.documentRequiredId),console.log("selectedRelativeRelationEdit => "),console.log(this.selectedRelativeRelationEdit),n.data.date=this.convertDate(n.data.date,"MM/dd/yyyy"),console.log(n.data.date),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeFileService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(){let t={DocumentRequiredId:this.selectedRelativeRelationType,EmployeeId:this.currentId,Date:this.convertDate(this.date,"yyyy-MM-ddTHH:mm:ss"),Discreption:this.discreption,File:this.file};console.log(t);const n=new FormData;for(const o in t)t.hasOwnProperty(o)&&n.append(o,t[o]);console.log(t),this.employeeFileService.Register(n).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,this.messageService.add({severity:"error",summary:"Error",detail:o,life:3e3})}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedRelativeRelationType=null,this.date=null,this.personName=null,this.discreption=null,this.selectedRelativeRelation=null}loadData(t,n,o,i,a){this.loading=!0;let p={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:this.currentId};p.sortType=this.sortOrder,this.employeeFileService.GetPage(p).subscribe({next:r=>{console.log(r),this.allData=r.data,console.log(r.data),this.totalItems=r.totalItems,this.loading=!1,console.log(this.selectedItems)},error:r=>{console.log(r),this.messageService.add({severity:"error",summary:"Error",detail:r,life:3e3}),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={DocumentRequiredId:this.selectedRelativeRelationEdit.id,employeeId:this.currentId,date:this.convertDate(n.date,"yyyy-MM-ddTHH:mm:ss"),personName:n.personName,discreption:n.discreption,id:n.id,File:this.file};const i=new FormData;for(const a in o)o.hasOwnProperty(a)&&i.append(a,o[a]);this.employeeFileService.Edit(i).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:a=>{console.log(a),alert(a)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeFileService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}getRelativeRelationTypes(){this.employeeFileService.getDropdownField("DocumentRequired").subscribe({next:t=>{console.log(t),this.dropdownItemsRelativeRelationType=t.data,console.log(this.dropdownItemsRelativeRelationType)},error:t=>{console.log(t)}})}selectRelativeRelation(t){console.log(t),this.selectedRelativeRelationType=t.value.id,this.selectedRelativeRelation=t.value}selectedRelativeRelationEditFun(t){this.selectedRelativeRelationEdit=t.value}onFileSelect(t){console.log(t);let n=t.currentFiles[0];this.file=n,console.log(n)}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(Nt),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-file"]],viewQuery:function(n,o){if(1&n&&e.Gf(Dt,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([_.ez,u.uU]),e.jDz],decls:31,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","ContractType"],["optionLabel","name",3,"ngModel","options","placeholder","ngModelChange","onChange"],["htmlFor","name-ar"],["name","date","inputId","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","date"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","accept",".pdf",3,"chooseLabel","onSelect"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],["optionLabel","name","placeholder","Enter RelativeRelation Type",3,"ngModel","options","ngModelChange"],["name","date","inputId","date","placeholder","date",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","placeholder","Enter Cost here","id","Cost","type","number",3,"ngModel","ngModelChange"],["pInputTextarea","","id","new-notes","placeholder","Enter notes Here","type","text",3,"ngModel","ngModelChange"],["pButton","","label","Insert New",1,"w-25",3,"click"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["optionLabel","name","placeholder","Enter Document Required Type",3,"ngModel","options","ngModelChange","onChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Ft,5,7,"ng-template",1)(3,Ut,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Lt,27,33,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,It,8,7,"ng-template",7)(10,Jt,18,7,"ng-template",4)(11,kt,34,30,"ng-template",8)(12,Pt,46,37,"ng-template",9),e.qZA(),e.TgZ(13,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(14,"translate"),e.YNc(15,St,23,27,"ng-template",4)(16,Ot,4,6,"ng-template",10),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Ht,6,4,"span",14),e.qZA(),e.YNc(22,Rt,2,0,"ng-template",10),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Qt,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,Y)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(6),e.Akn(e.DdM(41,Y)),e.Q6J("visible",o.productDialog)("header",e.lcZ(14,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,Y)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(18,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,Y)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(24,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.wV,d.JJ,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,Et.p,M.Hq,w.V,q.FN,v.o,O.g,F.Lt,E.f]})}return l})();var R=g(7204);let Gt=(()=>{class l extends y.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const jt=["dt"];function Vt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Yt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Bt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedLocation=o)})("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeLocation())}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(8,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"Location")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,8,"Select a Location")),e.Q6J("options",t.locationDropDown)("ngModel",t.selectedLocation)("showClear",!0),e.xp6(3),e.Q6J("label",e.lcZ(8,10,"Insert New"))}}function zt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",25),e._UZ(5,"i",26),e.TgZ(6,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function $t(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",28),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",29),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",30),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Employee")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Location")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const B=l=>({"null-color":l});function Wt(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",31),e.qZA(),e.TgZ(3,"td")(4,"span",32),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",32),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",32),e._uU(13,"locationName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",33)(16,"span",32),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",33)(21,"span",32),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",33)(26,"span",32),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",33)(30,"span",32),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",34)(35,"button",35),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(36,"button",36),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",t.locationName?t.locationName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(18,B,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,12,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(20,B,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,15,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(22,B,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,B,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Xt(l,s){1&l&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"location is required.")))}function eo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedLocationEdit=o)})("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeLocationEdit())}),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Xt,3,3,"small",37),e.qZA()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"Location")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,8,"Select a Location")),e.Q6J("options",t.locationDropDown)("ngModel",t.selectedLocationEdit)("showClear",!0),e.xp6(2),e.Q6J("ngIf",t.submitted&&!t.product.locationId)}}function to(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function oo(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function no(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function lo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const z=()=>({width:"450px"});let io=(()=>{class l{constructor(t,n,o){this._EmployeeLocationService=t,this.messageService=n,this.route=o,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeLocation",this._EmployeeLocationService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getLocation()}getLocation(){this._EmployeeLocationService.getDropDown("Location").subscribe({next:t=>{console.log(t.data),this.locationDropDown=t.data},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeLocationService.GetById(t.id).subscribe({next:n=>{console.log(n.data),console.log("location Drop Down"),console.log(this.locationDropDown),this.selectedLocationEdit=this.locationDropDown.find(o=>o.id==t.locationId),console.log(this.selectedLocationEdit),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeLocationService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"error field",detail:"Product Deleted",life:3e3})}})}addNew(){this._EmployeeLocationService.Register({employeeId:this.empId,locationId:this.selectedLocationId}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"error field",detail:"All Fields is required",life:3e3}),console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){this.selectedLocation=null}onChangeLocation(){this.selectedLocationId=this.selectedLocation?.id}onChangeLocationEdit(){this.selectedLocationEditId=this.selectedLocationEdit?.id}loadData(t,n,o,i,a,p){this.loading=!0;let r={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:p};r.sortType=this.sortOrder,console.log("FilteredData"),console.log(r),this._EmployeeLocationService.GetPage(r).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={id:n.id,locationId:this.selectedLocationEditId,employeeId:this.empId};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeLocationService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeLocationService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3}),this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(Gt),e.Y36(_.ez),e.Y36(h.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-location"]],viewQuery:function(n,o){if(1&n&&e.Gf(jt,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},standalone:!0,features:[e._Bn([_.ez,u.uU,R.j]),e.jDz],decls:30,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","location"],["optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange","onChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Vt,5,7,"ng-template",1)(3,Yt,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Bt,9,12,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,zt,8,7,"ng-template",7)(10,$t,28,24,"ng-template",8)(11,Wt,37,26,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,eo,7,10,"ng-template",4)(15,to,4,6,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,oo,6,4,"span",14),e.qZA(),e.YNc(21,no,2,0,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,lo,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,z)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,z)),e.Q6J("visible",o.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,z)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(17,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,z)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(23,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.JJ,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,F.Lt]})}return l})(),ao=(()=>{class l extends y.P{constructor(t){super(t)}getDropDownManager(t){return this.http.get(`${this.baseurl}/${t}/GetMangerDropDown/?culture=${this.culture}`)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const so=["dt"];function ro(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function co(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function po(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedManager=o)})("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeManager())}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(8,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"Manager")),e.xp6(2),e.Q6J("options",t.managerDropDown)("ngModel",t.selectedManager)("placeholder",e.lcZ(5,8,"Select a manager"))("showClear",!0),e.xp6(3),e.Q6J("label",e.lcZ(8,10,"Insert New"))}}function mo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",25),e._UZ(5,"i",26),e.TgZ(6,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function uo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",28),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",29),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",30),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Employee")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Manager")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const $=l=>({"null-color":l});function _o(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",31),e.qZA(),e.TgZ(3,"td")(4,"span",32),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",32),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",32),e._uU(13,"mangerName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",33)(16,"span",32),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",33)(21,"span",32),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",33)(26,"span",32),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",33)(30,"span",32),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",34)(35,"button",35),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(36,"button",36),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",t.mangerName?t.mangerName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(18,$,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,12,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(20,$,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,15,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(22,$,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,$,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function go(l,s){1&l&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"manager is required.")))}function ho(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedManagerEdit=o)})("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeManagerEdit())}),e.ALo(5,"translate"),e.qZA(),e.YNc(6,go,3,3,"small",37),e.qZA()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"Manager")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,8,"Select a manager")),e.Q6J("options",t.managerDropDown)("ngModel",t.selectedManagerEdit)("showClear",!0),e.xp6(2),e.Q6J("ngIf",t.submitted&&!t.product.managerId)}}function fo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Zo(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Co(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function xo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const W=()=>({width:"450px"});let yo=(()=>{class l{constructor(t,n,o){this._EmployeeManagerService=t,this.messageService=n,this.route=o,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeManager",this._EmployeeManagerService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getLocation()}getLocation(){this._EmployeeManagerService.getDropDownManager("Employee").subscribe({next:t=>{console.log(t.data),this.managerDropDown=t.data},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeManagerService.GetById(t.id).subscribe({next:n=>{console.log(n.data),console.log("location Drop Down"),console.log(this.managerDropDown),console.log("Manager Id"),console.log(t.mangerId),this.selectedManagerEdit=this.managerDropDown.find(o=>o.id==t.mangerId),console.log("selected manager edit"),console.log(this.selectedManagerEdit),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeManagerService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"error field",detail:"Product Deleted",life:3e3})}})}addNew(){this._EmployeeManagerService.Register({employeeId:this.empId,mangerId:this.selectedManagerId}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"error field",detail:"All Fields is required",life:3e3}),console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){this.selectedManager=null}onChangeManager(){this.selectedManagerId=this.selectedManager?.id}onChangeManagerEdit(){this.selectedManagerEditId=this.selectedManagerEdit?.id}loadData(t,n,o,i,a,p){this.loading=!0;let r={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:p};r.sortType=this.sortOrder,console.log("FilteredData"),console.log(r),this._EmployeeManagerService.GetPage(r).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={id:n.id,mangerId:this.selectedManagerEditId,employeeId:this.empId};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeManagerService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeManagerService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3}),this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(ao),e.Y36(_.ez),e.Y36(h.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-manager"]],viewQuery:function(n,o){if(1&n&&e.Gf(so,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},standalone:!0,features:[e._Bn([_.ez,u.uU,R.j]),e.jDz],decls:30,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","manager"],["optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange","onChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,ro,5,7,"ng-template",1)(3,co,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,po,9,12,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,mo,8,7,"ng-template",7)(10,uo,28,24,"ng-template",8)(11,_o,37,26,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,ho,7,10,"ng-template",4)(15,fo,4,6,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,Zo,6,4,"span",14),e.qZA(),e.YNc(21,Co,2,0,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,xo,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,W)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,W)),e.Q6J("visible",o.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,W)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(17,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,W)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(23,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.JJ,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,F.Lt]})}return l})(),To=(()=>{class l extends y.P{constructor(t){super(t)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const bo=["dt"];function Ao(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Mo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function qo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",21),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",22),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.year=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",20)(7,"label",23),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.basicSalry=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",20)(13,"label",25),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",26),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.kpi=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",20)(19,"label",27),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",28),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changing=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",20)(25,"label",29),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",30),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.badal=o)}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",20)(31,"label",31),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"input",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.hawafez=o)}),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"div",20)(37,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(38,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Year")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(5,21,"Enter Year Here")),e.Q6J("ngModel",t.year),e.xp6(4),e.hij("",e.lcZ(9,23,"Basic Salary")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(11,25,"Enter Basic Salary Here")),e.Q6J("ngModel",t.basicSalry),e.xp6(4),e.hij("",e.lcZ(15,27,"KPI")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(17,29,"Enter KPI Here")),e.Q6J("ngModel",t.kpi),e.xp6(4),e.hij("",e.lcZ(21,31,"Changing")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(23,33,"Enter Changing Here")),e.Q6J("ngModel",t.changing),e.xp6(4),e.hij("",e.lcZ(27,35,"Badal")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(29,37,"Enter Badal Here")),e.Q6J("ngModel",t.badal),e.xp6(4),e.hij("",e.lcZ(33,39,"Hawafez")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(35,41,"Enter Hawafez Here")),e.Q6J("ngModel",t.hawafez),e.xp6(3),e.Q6J("label",e.lcZ(38,43,"Insert New"))}}function vo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",34)(1,"h5",35),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",36),e._UZ(5,"i",37),e.TgZ(6,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function wo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",39),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",40),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",41),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,15,"Employee")),e.xp6(3),e.Oqu(e.lcZ(12,17,"Badal")),e.xp6(3),e.Oqu(e.lcZ(15,19,"Basic Salary")),e.xp6(3),e.Oqu(e.lcZ(18,21,"KPI")),e.xp6(3),e.Oqu(e.lcZ(21,23,"Changing")),e.xp6(3),e.Oqu(e.lcZ(24,25,"Hawafez")),e.xp6(3),e.Oqu(e.lcZ(27,27,"Year")),e.xp6(3),e.Oqu(e.lcZ(30,29,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(33,31,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(36,33,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(39,35,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(42,37,"Actions")))}const X=l=>({"null-color":l});function No(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",42),e.qZA(),e.TgZ(3,"td")(4,"span",43),e._uU(5,"id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",43),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",43),e._uU(13,"badal"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",43),e._uU(17,"basicSalry"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"span",43),e._uU(21,"basicSalry"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td")(24,"span",43),e._uU(25,"changing"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td")(28,"span",43),e._uU(29,"hawafez"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td")(32,"span",43),e._uU(33,"year"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",44)(36,"span",43),e._uU(37,"creationTime"),e.qZA(),e._uU(38),e.ALo(39,"date"),e.qZA(),e.TgZ(40,"td",44)(41,"span",43),e._uU(42,"lastModificationTime"),e.qZA(),e._uU(43),e.ALo(44,"date"),e.qZA(),e.TgZ(45,"td",44)(46,"span",43),e._uU(47,"creatorName"),e.qZA(),e._uU(48),e.qZA(),e.TgZ(49,"td",44)(50,"span",43),e._uU(51,"lastModifierName"),e.qZA(),e._uU(52),e.qZA(),e.TgZ(53,"td")(54,"div",45)(55,"button",46),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(56,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id," "),e.xp6(4),e.hij(" ",t.employeeName," "),e.xp6(4),e.hij(" ",t.badal," "),e.xp6(4),e.hij(" ",t.basicSalry," "),e.xp6(4),e.hij(" ",t.kpi," "),e.xp6(4),e.hij(" ",t.changing," "),e.xp6(4),e.hij(" ",t.hawafez," "),e.xp6(4),e.hij(" ",t.year," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,X,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(39,17,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,X,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(44,20,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,X,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,X,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName," ")}}function Eo(l,s){1&l&&(e.TgZ(0,"small",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Badal is required.")))}function Do(l,s){1&l&&(e.TgZ(0,"small",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"year is required.")))}function Fo(l,s){1&l&&(e.TgZ(0,"small",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"basicSalry is required.")))}function Uo(l,s){1&l&&(e.TgZ(0,"small",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"kpi is required.")))}function Lo(l,s){1&l&&(e.TgZ(0,"small",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Hawafez is required.")))}function Io(l,s){1&l&&(e.TgZ(0,"small",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Changing is required.")))}const H=l=>({"ng-invalid ng-dirty":l});function Jo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.badal=o)}),e.qZA(),e.YNc(5,Eo,3,3,"small",50),e.qZA(),e.TgZ(6,"div",20)(7,"label",51),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.year=o)}),e.qZA(),e.YNc(11,Do,3,3,"small",50),e.qZA(),e.TgZ(12,"div",20)(13,"label",53),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.basicSalry=o)}),e.qZA(),e.YNc(17,Fo,3,3,"small",50),e.qZA(),e.TgZ(18,"div",20)(19,"label",55),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.kpi=o)}),e.qZA(),e.YNc(23,Uo,3,3,"small",50),e.qZA(),e.TgZ(24,"div",20)(25,"label",57),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.hawafez=o)}),e.qZA(),e.YNc(29,Lo,3,3,"small",50),e.qZA(),e.TgZ(30,"div",20)(31,"label",59),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.changing=o)}),e.qZA(),e.YNc(35,Io,3,3,"small",50),e.qZA()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,24,"Badal")),e.xp6(2),e.Q6J("ngModel",t.product.badal)("ngClass",e.VKq(36,H,t.submitted&&!t.product.badal)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.badal),e.xp6(3),e.Oqu(e.lcZ(9,26,"Year")),e.xp6(2),e.Q6J("ngModel",t.product.year)("ngClass",e.VKq(38,H,t.submitted&&!t.product.year)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.year),e.xp6(3),e.Oqu(e.lcZ(15,28,"Basic Salary")),e.xp6(2),e.Q6J("ngModel",t.product.basicSalry)("ngClass",e.VKq(40,H,t.submitted&&!t.product.basicSalry)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.basicSalry),e.xp6(3),e.Oqu(e.lcZ(21,30,"KPI")),e.xp6(2),e.Q6J("ngModel",t.product.kpi)("ngClass",e.VKq(42,H,t.submitted&&!t.product.kpi)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.kpi),e.xp6(3),e.Oqu(e.lcZ(27,32,"Hawafez")),e.xp6(2),e.Q6J("ngModel",t.product.hawafez)("ngClass",e.VKq(44,H,t.submitted&&!t.product.hawafez)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.hawafez),e.xp6(3),e.Oqu(e.lcZ(33,34,"Changing")),e.xp6(2),e.Q6J("ngModel",t.product.changing)("ngClass",e.VKq(46,H,t.submitted&&!t.product.changing)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.changing)}}function ko(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Po(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function So(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Oo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const ee=()=>({width:"450px"});let Ho=(()=>{class l{constructor(t,n,o){this._EmployeeSalaryService=t,this.messageService=n,this.route=o,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeSalary",this._EmployeeSalaryService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"badal",header:"Badal"},{field:"basicSalry",header:"BasicSalry"},{field:"kpi",header:"KPI"},{field:"changing",header:"Changing"},{field:"hawafez",header:"Hawafez"},{field:"year",header:"Year"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeSalaryService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeSalaryService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"error field",detail:"Product Deleted",life:3e3})}})}addNew(){this._EmployeeSalaryService.Register({employeeId:this.empId,badal:this.badal,basicSalry:this.basicSalry,kpi:this.kpi,changing:this.changing,hawafez:this.hawafez,year:this.year}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"error field",detail:"All Fields is required",life:3e3}),console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){}loadData(t,n,o,i,a,p){this.loading=!0;let r={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:p};r.sortType=this.sortOrder,console.log("FilteredData"),console.log(r),this._EmployeeSalaryService.GetPage(r).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0;let o={id:n.id,employeeId:this.empId,badal:n.badal,basicSalry:n.basicSalry,kpi:n.kpi,changing:n.changing,hawafez:n.hawafez,year:n.year};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeSalaryService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeSalaryService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3}),this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(To),e.Y36(_.ez),e.Y36(h.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-salary"]],viewQuery:function(n,o){if(1&n&&e.Gf(bo,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},standalone:!0,features:[e._Bn([_.ez,u.uU,R.j]),e.jDz],decls:29,vars:41,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","year"],["pInputText","","id","year","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","basicSalry"],["pInputText","","id","basicSalry","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","kpi"],["pInputText","","id","kpi","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","changing"],["pInputText","","id","changing","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","badal"],["pInputText","","id","badal","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","hawafez"],["pInputText","","id","hawafez","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","badal"],["type","text","pInputText","","id","badal","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","year"],["type","text","pInputText","","id","year","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","basicSalry"],["type","text","pInputText","","id","basicSalry","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","kpi"],["type","text","pInputText","","id","kpi","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","hawafez"],["type","text","pInputText","","id","hawafez","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","changing"],["type","text","pInputText","","id","changing","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Ao,5,7,"ng-template",1)(3,Mo,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,qo,39,45,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,vo,8,7,"ng-template",7)(10,wo,43,39,"ng-template",8)(11,No,57,31,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",10),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.YNc(13,Jo,36,48,"ng-template",4)(14,ko,4,6,"ng-template",11),e.qZA(),e.TgZ(15,"p-dialog",12),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",13),e._UZ(18,"i",14),e.YNc(19,Po,6,4,"span",15),e.qZA(),e.YNc(20,So,4,6,"ng-template",11),e.qZA(),e.TgZ(21,"p-dialog",12),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",13),e._UZ(24,"i",14),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,Oo,2,0,"ng-template",11),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(37,ee)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,29,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(38,ee)),e.Q6J("visible",o.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(39,ee)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(16,31,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(40,ee)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(22,33,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,35,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.JJ,d.Q7,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o]})}return l})(),Ro=(()=>{class l extends y.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Qo=["dt"];function Ko(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Go(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function jo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changedSelectedUniformCode())})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedUnifromCode=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedDate=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCost=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedNotes=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,17,"Uniform Code")),e.xp6(2),e.Q6J("options",t.uniformCodesDropDown)("ngModel",t.selectedUnifromCode)("placeholder",e.lcZ(5,19,"Select Uniform Code"))("showClear",!0),e.xp6(4),e.hij("",e.lcZ(9,21,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(11,23,"MM/DD/YYYY"))("ngModel",t.selectedDate),e.xp6(4),e.hij("",e.lcZ(15,25,"Cost")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(17,27,"Enter Cost Here")),e.Q6J("ngModel",t.selectedCost),e.xp6(4),e.hij("",e.lcZ(21,29,"Notes")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(23,31,"Enter notes Here")),e.Q6J("ngModel",t.selectedNotes),e.xp6(3),e.Q6J("label",e.lcZ(26,33,"Insert New"))}}function Vo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Yo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",34),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",35),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",36),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,12,"UniformCodeName")),e.xp6(3),e.Oqu(e.lcZ(12,14,"Date")),e.xp6(3),e.Oqu(e.lcZ(15,16,"Cost")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Notes")),e.xp6(3),e.Oqu(e.lcZ(21,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(24,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(30,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"Actions")))}const te=l=>({"null-color":l});function Bo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",37),e.qZA(),e.TgZ(3,"td")(4,"span",38),e._uU(5,"id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",38),e._uU(9,"uniformCodeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",38),e._uU(13,"date"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td")(17,"span",38),e._uU(18,"cost"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"td")(21,"span",38),e._uU(22,"nots"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",39)(25,"span",38),e._uU(26,"creationTime"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td",39)(30,"span",38),e._uU(31,"lastModificationTime"),e.qZA(),e._uU(32),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"td",39)(35,"span",38),e._uU(36,"creatorName"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",39)(39,"span",38),e._uU(40,"lastModifierName"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td")(43,"div",40)(44,"button",41),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(45,"button",42),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(4),e.hij(" ",t.uniformCodeName?t.uniformCodeName:""," "),e.xp6(4),e.hij(" ",e.xi3(15,14,t.date,"yyyy-MM-dd")," "),e.xp6(5),e.hij(" ",t.cost?t.cost:""," "),e.xp6(4),e.hij(" ",t.nots?t.nots:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,te,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(28,17,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,te,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(33,20,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,te,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,te,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const se=l=>({"ng-invalid ng-dirty":l});function zo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-calendar",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.date=o)}),e.qZA()(),e.TgZ(5,"div",19)(6,"label",20),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"p-dropdown",45),e.NdJ("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changedSelectedUniformCode())})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedUnifromCodeEdit=o)}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",19)(12,"label",24),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.cost=o)}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",19)(18,"label",26),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.nots=o)}),e.ALo(22,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,17,"Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.date)("ngClass",e.VKq(31,se,t.submitted&&!t.product.date)),e.xp6(3),e.Oqu(e.lcZ(8,19,"Uniform Code")),e.xp6(2),e.Q6J("options",t.uniformCodesDropDown)("ngModel",t.selectedUnifromCodeEdit)("placeholder",e.lcZ(10,21,"Select Uniform Code"))("showClear",!0)("ngClass",e.VKq(33,se,t.submitted&&!t.product.uniformCodeId)),e.xp6(4),e.hij("",e.lcZ(14,23,"Cost")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(16,25,"Enter cost")),e.Q6J("ngModel",t.product.cost),e.xp6(4),e.hij("",e.lcZ(20,27,"Notes")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(22,29,"Enter nots Here")),e.Q6J("ngModel",t.product.nots)}}function $o(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.qZA()}}function Wo(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,2,"Are you sure you want to delete")),e.xp6(3),e.Oqu(t.product.name)}}function Xo(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function en(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const oe=()=>({width:"450px"});let tn=(()=>{class l{constructor(t,n,o,i){this._EmployeeUniformService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeUniform",this._EmployeeUniformService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"uniformCodeName",header:"UniformCodeName"},{field:"date",header:"Date"},{field:"cost",header:"Cost"},{field:"notes",header:"notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown()}getDropDown(){this._EmployeeUniformService.getDropDown("UniformCodes").subscribe({next:t=>{this.uniformCodesDropDown=t.data,console.log("Drop Down Unifrom Codes from here"),console.log(t.data)},error:t=>{console.log("Error in Unifrom Codes DropDown"),console.error(t)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeUniformService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0,this.selectedDate=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.selectedUnifromCodeEdit=this.uniformCodesDropDown.find(o=>o.id==this.product.uniformCodeId)},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeUniformService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"error field",detail:"Product Deleted",life:3e3})}})}addNew(){this.selectedDate=this.DatePipe.transform(this.selectedDate,"yyyy-MM-dd"),this._EmployeeUniformService.Register({employeeId:this.empId,uniformCodeId:this.selectedUnifromCode?.id,date:this.selectedDate,cost:this.selectedCost,nots:this.selectedNotes}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"error field",detail:"All Fields is required",life:3e3}),console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){}loadData(t,n,o,i,a,p){this.loading=!0;let r={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:p};r.sortType=this.sortOrder,console.log("FilteredData"),console.log(r),this._EmployeeUniformService.GetPage(r).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,this.selectedDateEdit=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss"),this.product.date=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss");let o={id:n.id,employeeId:this.empId,uniformCodeId:this.selectedUnifromCodeEdit.id,date:this.product.date,cost:this.product.cost,nots:this.product.nots};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeUniformService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeUniformService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3}),this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(Ro),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-uniform"]],viewQuery:function(n,o){if(1&n&&e.Gf(Qo,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},standalone:!0,features:[e._Bn([_.ez,u.uU,R.j]),e.jDz],decls:30,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","uniformCode"],["optionLabel","name",3,"options","ngModel","placeholder","showClear","onChange","ngModelChange"],["htmlFor","date"],["inputId","icon",3,"showIcon","iconDisplay","placeholder","ngModel","ngModelChange"],["htmlFor","cost"],["pInputText","","id","cost","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","nots"],["pInputText","","id","nots","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","date"],["placeholder","MM/DD/YYYY","inputId","icon","autofocus","",3,"showIcon","iconDisplay","ngModel","ngClass","ngModelChange"],["optionLabel","name",3,"options","ngModel","placeholder","showClear","ngClass","onChange","ngModelChange"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Ko,5,7,"ng-template",1)(3,Go,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,jo,27,35,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,Vo,8,7,"ng-template",7)(10,Yo,34,30,"ng-template",8)(11,Bo,46,31,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,zo,23,35,"ng-template",4)(15,$o,2,0,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,Wo,6,4,"span",14),e.qZA(),e.YNc(21,Xo,2,0,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,en,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,oe)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,oe)),e.Q6J("visible",o.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,oe)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(17,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,oe)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(23,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.JJ,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,F.Lt,E.f]})}return l})(),on=(()=>{class l extends y.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getDropDownVacationStock(t){return this.http.get(`${this.baseurl}/${t}/getStockVacationDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const nn=["dt"];function ln(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function an(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function sn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",21),e.NdJ("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changedSelectedVacationType())})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedVacationType=o)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedStartDate=o)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedVacationBalance=o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedYear=o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNew())}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,16,"Vacation Type")),e.xp6(2),e.Q6J("options",t.VacationTypesDropDown)("ngModel",t.selectedVacationType)("placeholder",e.lcZ(5,18,"Select Vacation Type"))("showClear",!0),e.xp6(4),e.hij("",e.lcZ(9,20,"Start Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(11,22,"MM/DD/YYYY"))("ngModel",t.selectedStartDate),e.xp6(4),e.hij("",e.lcZ(15,24,"vacation Balance")," "),e.xp6(2),e.Q6J("ngModel",t.selectedVacationBalance)("placeholder",e.lcZ(17,26,"Enter Vacation Balance Here")),e.xp6(4),e.hij("",e.lcZ(21,28,"Year")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(23,30,"Enter Year Here")),e.Q6J("ngModel",t.selectedYear)}}function rn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function cn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",34),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",35),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",36),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,12,"Start Date")),e.xp6(3),e.Oqu(e.lcZ(12,14,"vacation Type")),e.xp6(3),e.Oqu(e.lcZ(15,16,"vacation Balance")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Year")),e.xp6(3),e.Oqu(e.lcZ(21,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(24,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(30,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"Actions")))}const ne=l=>({"null-color":l});function pn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",37),e.qZA(),e.TgZ(3,"td")(4,"span",38),e._uU(5,"id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",38),e._uU(9,"StartDate"),e.qZA(),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td")(13,"span",38),e._uU(14,"VacationType"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"td")(17,"span",38),e._uU(18,"VacationBalance"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"td")(21,"span",38),e._uU(22,"year"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",39)(25,"span",38),e._uU(26,"creationTime"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td",39)(30,"span",38),e._uU(31,"lastModificationTime"),e.qZA(),e._uU(32),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"td",39)(35,"span",38),e._uU(36,"creatorName"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",39)(39,"span",38),e._uU(40,"lastModifierName"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td")(43,"div",40)(44,"button",41),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(45,"button",42),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(4),e.hij(" ",e.xi3(11,14,t.startDate,"yyyy-MM-dd")," "),e.xp6(5),e.hij(" ",t.vacationTypeName?t.vacationTypeName:""," "),e.xp6(4),e.hij(" ",t.vacationBalance?t.vacationBalance:""," "),e.xp6(4),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,ne,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(28,17,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,ne,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(33,20,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,ne,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,ne,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const re=l=>({"ng-invalid ng-dirty":l});function dn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-calendar",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedStartDateEdit=o)}),e.qZA()(),e.TgZ(5,"div",19)(6,"label",45),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"p-dropdown",46),e.NdJ("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changedSelectedVacationTypeEdit())})("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedVacationTypeEdit=o)}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",19)(12,"label",24),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.vacationBalance=o)}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",19)(18,"label",26),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.product.year=o)}),e.ALo(22,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,17,"Start Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.selectedStartDateEdit)("ngClass",e.VKq(31,re,t.submitted&&!t.product.startDate)),e.xp6(3),e.Oqu(e.lcZ(8,19,"Vacation Type")),e.xp6(2),e.Q6J("options",t.VacationTypesDropDown)("ngModel",t.selectedVacationTypeEdit)("placeholder",e.lcZ(10,21,"Select Vacation Type"))("showClear",!0)("ngClass",e.VKq(33,re,t.submitted&&!t.product.vacationTypeId)),e.xp6(4),e.hij("",e.lcZ(14,23,"Vacation Balance")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(16,25,"Enter Vacation Balance Here")),e.Q6J("ngModel",t.product.vacationBalance),e.xp6(4),e.hij("",e.lcZ(20,27,"Year")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(22,29,"Enter Year")),e.Q6J("ngModel",t.product.year)}}function mn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct(o.product.id,o.product))}),e.qZA()}}function un(l,s){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function _n(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete(o.product.id))}),e.qZA()}}function gn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const le=()=>({width:"450px"});let hn=(()=>{class l{constructor(t,n,o,i){this._EmployeeVacationStockService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeVacationStock",this._EmployeeVacationStockService.setEndPoint(this.endPoint),this.cols=[{field:"start Date",header:"Start Date"},{field:"vacation Balance",header:"Vacation Balance"},{field:"vacation Type",header:"Vacation Type"},{field:"year",header:"Year"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown()}getDropDown(){this._EmployeeVacationStockService.getDropDownVacationStock("VacationType").subscribe({next:t=>{this.VacationTypesDropDown=t.data,console.log("Drop Down Unifrom Codes from here"),console.log(t.data)},error:t=>{console.log("Error in Unifrom Codes DropDown"),console.error(t)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeVacationStockService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0,this.selectedStartDateEdit=this.DatePipe.transform(this.product.startDate,"MM/dd/yyyy"),this.product.startDate=this.DatePipe.transform(this.product.startDate,"MM/dd/yyyy"),this.selectedVacationTypeEdit=this.VacationTypesDropDown.find(o=>o.id==this.product.vacationTypeId)},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeVacationStockService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"error field",detail:"Product Deleted",life:3e3})}})}addNew(){this.selectedStartDate=this.DatePipe.transform(this.selectedStartDate,"yyyy-MM-dd"),this._EmployeeVacationStockService.Register({employeeId:this.empId,vacationTypeId:this.selectedVacationType?.id,date:this.selectedStartDate,year:this.selectedYear,vacationBalance:this.selectedVacationBalance}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"error field",detail:"All Fields is required",life:3e3}),console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){this.selectedStartDate=null,this.selectedVacationType=null}loadData(t,n,o,i,a,p){this.loading=!0;let r={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:p};r.sortType=this.sortOrder,console.log("FilteredData"),console.log(r),this._EmployeeVacationStockService.GetPage(r).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,this.selectedStartDateEdit=this.DatePipe.transform(this.product.startDate,"yyyy-MM-dd"),this.product.startDate=this.DatePipe.transform(this.product.startDate,"yyyy-MM-dd"),console.log("selectedVacationTypeEdit"),console.log(this.selectedVacationTypeEdit);let o={id:n.id,employeeId:this.empId,startDate:this.product.startDate,vacationTypeId:this.selectedVacationTypeEdit?.id,vacationBalance:this.product.vacationBalance,year:this.product.year};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeVacationStockService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:i=>{console.log(i),alert(i)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeVacationStockService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.messageService.add({severity:"error",summary:"Failure",detail:n.statusText,life:3e3}),this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(on),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-vacation-stock"]],viewQuery:function(n,o){if(1&n&&e.Gf(nn,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},standalone:!0,features:[e._Bn([_.ez,u.uU,R.j]),e.jDz],decls:30,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","VacationType"],["optionLabel","name",3,"options","ngModel","placeholder","showClear","onChange","ngModelChange"],["htmlFor","startDate"],["inputId","icon",3,"showIcon","iconDisplay","placeholder","ngModel","ngModelChange"],["htmlFor","vacationBalance"],["pInputText","","id","vacationBalance","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","year"],["pInputText","","id","year","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","label","Insert New",1,"w-25",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","startDate"],["placeholder","MM/DD/YYYY","inputId","icon","autofocus","",3,"showIcon","iconDisplay","ngModel","ngClass","ngModelChange"],["htmlFor","Vacation Type"],["optionLabel","name",3,"options","ngModel","placeholder","showClear","ngClass","onChange","ngModelChange"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,ln,5,7,"ng-template",1)(3,an,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,sn,26,32,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(9,rn,8,7,"ng-template",7)(10,cn,34,30,"ng-template",8)(11,pn,46,31,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return o.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,dn,23,35,"ng-template",4)(15,mn,2,0,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,un,6,4,"span",14),e.qZA(),e.YNc(21,_n,2,0,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return o.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,gn,2,0,"ng-template",10),e.qZA()),2&n&&(e.xp6(4),e.Akn(e.DdM(40,le)),e.Q6J("visible",o.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,le)),e.Q6J("visible",o.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,le)),e.Q6J("visible",o.deleteProductDialog)("header",e.lcZ(17,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",o.product),e.xp6(2),e.Akn(e.DdM(43,le)),e.Q6J("visible",o.deleteProductsDialog)("header",e.lcZ(23,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,38,"Are you sure you want to delete selected products?")))},dependencies:[C.l,u.mk,u.O5,d.Fj,d.JJ,d.On,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,w.V,q.FN,v.o,F.Lt,E.f]})}return l})(),fn=(()=>{class l extends y.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var ce=g(1230);const Zn=["dt"];function Cn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function xn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function yn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th",38),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(o))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",39),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,9,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,11,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,13,"Notes")),e.xp6(3),e.Oqu(e.lcZ(16,15,"Date From")),e.xp6(3),e.Oqu(e.lcZ(19,17,"Date To")),e.xp6(3),e.Oqu(e.lcZ(22,19,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(25,21,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(28,23,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(31,25,"lastModifierName")))}const P=l=>({"null-color":l});function Tn(l,s){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",42)(8,"span",41),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",42)(12,"span",41),e._uU(13,"notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",42)(16,"span",41),e._uU(17,"dateFrom"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",42)(21,"span",41),e._uU(22,"dateTo"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",42)(26,"span",41),e._uU(27,"creationTime"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",42)(30,"span",41),e._uU(31,"lastModificationTime"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",42)(34,"span",41),e._uU(35,"creatorName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",42)(38,"span",41),e._uU(39,"lastModifierName"),e.qZA(),e._uU(40),e.qZA()()),2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,P,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,P,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,P,!t.dateFrom)),e.xp6(3),e.hij(" ",e.xi3(19,18,t.dateFrom,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(30,P,!t.dateTo)),e.xp6(3),e.hij(" ",e.xi3(24,21,t.dateTo,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(32,P,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,P,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,P,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,P,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}let bn=(()=>{class l{constructor(t,n,o,i){this.employeeWeekendService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.filterForm=new d.cw({EmployeeId:new d.NI(null),MangerId:new d.NI(null),DateFrom:new d.NI(null),DateTo:new d.NI(null),LocationId:new d.NI(null)}),this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null}ngOnInit(){this.endPoint="EmployeeWeekend",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),I.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeWeekendService.setCulture(t),this.employeeWeekendService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDowns()}getDropDowns(){this.employeeWeekendService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.employeeWeekendService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.employeeWeekendService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}loadData(t,n,o,i,a){this.loading=!0;let p={pageNumber:t,pageSize:n,filterValue:o,filterType:i,sortType:a,employeeId:this.currentId};p.sortType=this.sortOrder;const r=new FormData;for(const c in p)p.hasOwnProperty(c)&&r.append(c,p[c]);this.employeeWeekendService.GetPage(r).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.messageService.add({severity:"error",summary:"Error",detail:c,life:3e3}),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}hideDialog(){this.productDialog=!1,this.submitted=!1}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}submitForm(t){t.patchValue({EmployeeId:this.selectedEmployee?.id??null,MangerId:this.selectedManager?.id??null,LocationId:this.selectedVacationType?.id??null,DateFrom:this.DatePipe.transform(t.get("DateFrom")?.value??null,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.get("DateTo")?.value??null,"yyyy-MM-dd")}),console.log(t.value);const a={...Object.fromEntries(Object.entries(t.value).filter(([c,ie])=>null!==ie)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(a);const p=new FormData;for(const r in a)a.hasOwnProperty(r)&&p.append(r,a[r]),"VALID"==t.status&&this.employeeWeekendService.GetPage(p).subscribe({next:c=>{this.allData=c.data,console.log(c.data)},error:c=>{console.log(c)}})}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(fn),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-weekend"]],viewQuery:function(n,o){if(1&n&&e.Gf(Zn,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([_.ez,u.uU]),e.jDz],decls:52,vars:57,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","formControlName","EmployeeId",3,"options","ngModel","placeholder","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","RequestType"],["formControlName","LocationId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return o.submitForm(o.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p-dropdown",8),e.NdJ("ngModelChange",function(a){return o.selectedEmployee=a}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p-dropdown",11),e.NdJ("ngModelChange",function(a){return o.selectedVacationType=a}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"p-calendar",13),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",9)(27,"label",14),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"p-calendar",15),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",9)(33,"label",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"p-dropdown",17),e.NdJ("ngModelChange",function(a){return o.selectedManager=a}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",18)(39,"div",19)(40,"button",20),e._UZ(41,"i",21),e.TgZ(42,"span"),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()()()()(),e.TgZ(45,"p-toolbar",22),e.YNc(46,Cn,2,4,"ng-template",23),e.qZA(),e.TgZ(47,"p-table",24,25),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(49,xn,8,7,"ng-template",26)(50,yn,32,27,"ng-template",27)(51,Tn,41,40,"ng-template",28),e.qZA()),2&n&&(e.xp6(1),e.Q6J("header",e.lcZ(2,33,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",o.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,35,"Employee")),e.xp6(2),e.Q6J("options",o.dropdownItemsEmployees)("ngModel",o.selectedEmployee)("placeholder",e.lcZ(13,37,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(17,39,"Location")),e.xp6(2),e.Q6J("options",o.dropdownItemsVacationTypes)("ngModel",o.selectedVacationType)("placeholder",e.lcZ(19,41,"Enter Location Here")),e.xp6(4),e.hij(" ",e.lcZ(23,43,"From"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(25,45,"From")),e.xp6(4),e.hij(" ",e.lcZ(29,47,"To"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(31,49,"To")),e.xp6(4),e.Oqu(e.lcZ(35,51,"Manager")),e.xp6(2),e.Q6J("options",o.dropdownItemsManagers)("ngModel",o.selectedManager)("placeholder",e.lcZ(37,53,"Enter Manager Name Here")),e.xp6(7),e.hij(" ",e.lcZ(44,55,"Filter")," "),e.xp6(4),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0))},dependencies:[C.l,u.mk,d._Y,d.Fj,d.JJ,d.JL,d.On,d.sg,d.u,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,q.FN,v.o,F.Lt,ce.s,E.f],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}return l})(),An=(()=>{class l extends y.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Mn=["dt"];function qn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function vn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"div",31)(1,"h5",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",33),e._UZ(5,"i",34),e.TgZ(6,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function wn(l,s){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",36),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",37),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(o))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",38),e.qZA(),e.TgZ(7,"th",39),e.NdJ("click",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(o))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",40),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,12,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,14,"Shift Name")),e.xp6(3),e.Oqu(e.lcZ(16,16,"Date From")),e.xp6(3),e.Oqu(e.lcZ(19,18,"Date To")),e.xp6(3),e.Oqu(e.lcZ(22,20,"Notes")),e.xp6(3),e.Oqu(e.lcZ(25,22,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(28,24,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(31,26,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(34,28,"lastModifierName")))}const L=l=>({"null-color":l});function Nn(l,s){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",41),e.qZA(),e.TgZ(3,"td")(4,"span",42),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",43)(8,"span",42),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",43)(12,"span",42),e._uU(13,"shiftName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",43)(16,"span",42),e._uU(17,"dateFrom"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",43)(21,"span",42),e._uU(22,"dateTo"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",43)(26,"span",42),e._uU(27,"notes"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",43)(30,"span",42),e._uU(31,"creationTime"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",43)(34,"span",42),e._uU(35,"lastModificationTime"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",43)(38,"span",42),e._uU(39,"creatorName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",43)(42,"span",42),e._uU(43,"lastModifierName"),e.qZA(),e._uU(44),e.qZA()()),2&l){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,L,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,L,!t.shiftName)),e.xp6(3),e.hij(" ",t.shiftName?t.shiftName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,L,!t.dateFrom)),e.xp6(3),e.hij(" ",e.xi3(19,20,t.dateFrom,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(32,L,!t.dateTo)),e.xp6(3),e.hij(" ",e.xi3(24,23,t.dateTo,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(34,L,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,L,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,L,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,L,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,L,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const En=[{path:"EmployeeCertification",component:be},{path:"EmployeeCourse",component:ke},{path:"EmployeeCovenant",component:We},{path:"EmployeeExperience",component:mt},{path:"EmployeeFamily",component:vt},{path:"EmployeeFile",component:Kt},{path:"EmployeeLocation",component:io},{path:"EmployeeManager",component:yo},{path:"EmployeeSalary",component:Ho},{path:"EmployeeUniform",component:tn},{path:"EmployeeVacationStock",component:hn},{path:"EmployeeWeekend",component:bn},{path:"EmployeeShift",component:(()=>{class l{constructor(t,n,o,i){this.employeeShiftService=t,this.messageService=n,this.route=o,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=Z.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.filterForm=new d.cw({EmployeeId:new d.NI(null),MangerId:new d.NI(null),DateFrom:new d.NI(null),DateTo:new d.NI(null),LocationId:new d.NI(null),ShiftId:new d.NI(null)}),this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null,this.selectedShift=null}ngOnInit(){this.endPoint="EmployeeShift",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),I.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeShiftService.setCulture(t),this.employeeShiftService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDowns()}getDropDowns(){this.employeeShiftService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.employeeShiftService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.employeeShiftService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}}),this.employeeShiftService.getDropdownField("Shift").subscribe({next:t=>{console.log(t.data),this.dropdownItemsShifts=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}loadData(t,n,o,i,a){this.loading=!0;let p={PageNumber:t,PageSize:n,FilterValue:o,FilterType:i,SortType:a,EmployeeId:this.currentId};p.SortType=this.sortOrder;const r=new FormData;for(const c in p)p.hasOwnProperty(c)&&r.append(c,p[c]);this.employeeShiftService.GetPage(r).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.messageService.add({severity:"error",summary:"Error",detail:c,life:3e3}),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}hideDialog(){this.productDialog=!1,this.submitted=!1}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(a=>{o.push(a.field)}),console.log(o);const i=t.map(a=>o.map(p=>`"${a[p]}"`).join(","));return i.unshift(o.join(",")),i.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}submitForm(t){t.patchValue({EmployeeId:this.selectedEmployee?.id??null,MangerId:this.selectedManager?.id??null,LocationId:this.selectedVacationType?.id??null,ShiftId:this.selectedShift?.id??null,DateFrom:this.DatePipe.transform(t.get("DateFrom")?.value??null,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.get("DateTo")?.value??null,"yyyy-MM-dd")}),console.log(t.value);const a={...Object.fromEntries(Object.entries(t.value).filter(([c,ie])=>null!==ie)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(a);const p=new FormData;for(const r in a)a.hasOwnProperty(r)&&p.append(r,a[r]),"VALID"==t.status&&this.employeeShiftService.GetPage(p).subscribe({next:c=>{this.allData=c.data,console.log(c.data)},error:c=>{console.log(c)}})}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(An),e.Y36(_.ez),e.Y36(h.gz),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-shift"]],viewQuery:function(n,o){if(1&n&&e.Gf(Mn,5),2&n){let i;e.iGM(i=e.CRH())&&(o.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([_.ez,u.uU]),e.jDz],decls:58,vars:65,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","formControlName","EmployeeId",3,"options","ngModel","placeholder","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","RequestType"],["formControlName","ShiftId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["formControlName","LocationId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"]],template:function(n,o){1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return o.submitForm(o.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p-dropdown",8),e.NdJ("ngModelChange",function(a){return o.selectedEmployee=a}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p-dropdown",11),e.NdJ("ngModelChange",function(a){return o.selectedShift=a}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",9)(21,"label",10),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"p-dropdown",12),e.NdJ("ngModelChange",function(a){return o.selectedVacationType=a}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",9)(27,"label",13),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"p-calendar",14),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",9)(33,"label",15),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"p-calendar",16),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",9)(39,"label",17),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"p-dropdown",18),e.NdJ("ngModelChange",function(a){return o.selectedManager=a}),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"div",19)(45,"div",20)(46,"button",21),e._UZ(47,"i",22),e.TgZ(48,"span"),e._uU(49),e.ALo(50,"translate"),e.qZA()()()()()()()()()(),e.TgZ(51,"p-toolbar",23),e.YNc(52,qn,2,4,"ng-template",24),e.qZA(),e.TgZ(53,"p-table",25,26),e.NdJ("selectionChange",function(a){return o.selectedItems=a})("onLazyLoad",function(a){return o.onPageChange(a)}),e.YNc(55,vn,8,7,"ng-template",27)(56,wn,35,30,"ng-template",28)(57,Nn,45,44,"ng-template",29),e.qZA()),2&n&&(e.xp6(1),e.Q6J("header",e.lcZ(2,37,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",o.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,39,"Employee")),e.xp6(2),e.Q6J("options",o.dropdownItemsEmployees)("ngModel",o.selectedEmployee)("placeholder",e.lcZ(13,41,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(17,43,"Shift")),e.xp6(2),e.Q6J("options",o.dropdownItemsShifts)("ngModel",o.selectedShift)("placeholder",e.lcZ(19,45,"Select Shift")),e.xp6(4),e.Oqu(e.lcZ(23,47,"Location")),e.xp6(2),e.Q6J("options",o.dropdownItemsVacationTypes)("ngModel",o.selectedVacationType)("placeholder",e.lcZ(25,49,"Enter Location Here")),e.xp6(4),e.hij(" ",e.lcZ(29,51,"From"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(31,53,"From")),e.xp6(4),e.hij(" ",e.lcZ(35,55,"To"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(37,57,"To")),e.xp6(4),e.Oqu(e.lcZ(41,59,"Manager")),e.xp6(2),e.Q6J("options",o.dropdownItemsManagers)("ngModel",o.selectedManager)("placeholder",e.lcZ(43,61,"Enter Manager Name Here")),e.xp6(7),e.hij(" ",e.lcZ(50,63,"Filter")," "),e.xp6(4),e.Q6J("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems)("selection",o.selectedItems)("showCurrentPageReport",!0)("lazy",!0))},dependencies:[C.l,u.mk,d._Y,d.Fj,d.JJ,d.JL,d.On,d.sg,d.u,u.uU,f.X$,x.g,b.o,m.iA,_.jx,m.lQ,m.fz,m.UA,m.Mo,A.H,M.Hq,q.FN,v.o,F.Lt,ce.s,E.f],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}return l})()}];let Dn=(()=>{class l{static#e=this.\u0275fac=function(n){return new(n||l)};static#t=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(En),f.aw,h.Bz]})}return l})(),Fn=(()=>{class l{static#e=this.\u0275fac=function(n){return new(n||l)};static#t=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({imports:[u.ez,Dn,f.aw]})}return l})()}}]);