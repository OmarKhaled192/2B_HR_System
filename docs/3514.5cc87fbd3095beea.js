"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[3514],{3514:(wi,W,f)=>{f.d(W,{He:()=>gi,OB:()=>fi,Pe:()=>mi,V4:()=>bi,dp:()=>Ti,gc:()=>_i,iw:()=>v});var h=f(6814),t=f(8109),S=f(5219),d=f(2076),z=f(3362),L=f(2314),R=f(2591),N=f(6005),O=f(4562),V=f(1604),P=f(3833),F=f(6392),H=f(1563),B=f(8717),A=f(2947),Q=f(4480),k=f(6489),m=f(2332),x=f(8645);const Z=["container"],$=["resizeHelper"],j=["reorderIndicatorUp"],q=["reorderIndicatorDown"],X=["table"],ee=["scrollableView"],te=["scrollableFrozenView"];function ie(i,r){if(1&i&&t._UZ(0,"i"),2&i){const e=t.oxw(2);t.Tol("p-treetable-loading-icon pi-spin "+e.loadingIcon)}}function le(i,r){1&i&&t._UZ(0,"SpinnerIcon",18),2&i&&t.Q6J("spin",!0)("styleClass","p-treetable-loading-icon")}function ne(i,r){}function oe(i,r){1&i&&t.YNc(0,ne,0,0,"ng-template")}function re(i,r){if(1&i&&(t.TgZ(0,"span",19),t.YNc(1,oe,1,0,null,20),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngTemplateOutlet",e.loadingIconTemplate)}}function se(i,r){if(1&i&&(t.ynx(0),t.YNc(1,le,1,2,"SpinnerIcon",16)(2,re,2,1,"span",17),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.loadingIconTemplate),t.xp6(1),t.Q6J("ngIf",e.loadingIconTemplate)}}function ae(i,r){if(1&i&&(t.TgZ(0,"div",12)(1,"div",13),t.YNc(2,ie,1,2,"i",14)(3,se,3,2,"ng-container",15),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.loadingIcon),t.xp6(1),t.Q6J("ngIf",!e.loadingIcon)}}function ce(i,r){1&i&&t.GkF(0)}function de(i,r){if(1&i&&(t.TgZ(0,"div",21),t.YNc(1,ce,1,0,"ng-container",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.captionTemplate)}}function pe(i,r){1&i&&t.GkF(0)}function he(i,r){if(1&i&&t.YNc(0,pe,1,0,"ng-container",20),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function ue(i,r){1&i&&t.YNc(0,he,1,1,"ng-template",23)}function fe(i,r){1&i&&t.GkF(0)}function ge(i,r){if(1&i&&t.YNc(0,fe,1,0,"ng-container",20),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function me(i,r){1&i&&t.YNc(0,ge,1,1,"ng-template",24)}function be(i,r){1&i&&t.GkF(0)}function _e(i,r){if(1&i&&t.YNc(0,be,1,0,"ng-container",20),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function Te(i,r){1&i&&t.YNc(0,_e,1,1,"ng-template",25)}function Ce(i,r){1&i&&t.GkF(0)}function we(i,r){if(1&i&&t.YNc(0,Ce,1,0,"ng-container",20),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function ve(i,r){1&i&&t.YNc(0,we,1,1,"ng-template",26)}function Se(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"p-paginator",22),t.NdJ("onPageChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onPageChange(n))}),t.YNc(1,ue,1,0,null,15)(2,me,1,0,null,15)(3,Te,1,0,null,15)(4,ve,1,0,null,15),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),t.xp6(1),t.Q6J("ngIf",e.paginatorFirstPageLinkIconTemplate),t.xp6(1),t.Q6J("ngIf",e.paginatorPreviousPageLinkIconTemplate),t.xp6(1),t.Q6J("ngIf",e.paginatorLastPageLinkIconTemplate),t.xp6(1),t.Q6J("ngIf",e.paginatorNextPageLinkIconTemplate)}}function xe(i,r){1&i&&t.GkF(0)}function ye(i,r){1&i&&t.GkF(0)}function Ie(i,r){1&i&&t.GkF(0)}const T=i=>({$implicit:i});function Ee(i,r){if(1&i&&(t.TgZ(0,"div",27)(1,"table",28,29),t.YNc(3,xe,1,0,"ng-container",30),t.TgZ(4,"thead",31),t.YNc(5,ye,1,0,"ng-container",30),t.qZA(),t._UZ(6,"tbody",32),t.TgZ(7,"tfoot",33),t.YNc(8,Ie,1,0,"ng-container",30),t.qZA()()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),t.xp6(2),t.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",t.VKq(10,T,e.columns)),t.xp6(2),t.Q6J("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",t.VKq(12,T,e.columns)),t.xp6(1),t.Q6J("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate),t.xp6(2),t.Q6J("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",t.VKq(14,T,e.columns))}}const ke=i=>({width:i});function De(i,r){if(1&i&&t._UZ(0,"div",38,39),2&i){const e=t.oxw(2);t.Q6J("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",t.VKq(4,ke,e.frozenWidth))("scrollHeight",e.scrollHeight)}}const Me=(i,r)=>({left:i,width:r});function ze(i,r){if(1&i&&(t.TgZ(0,"div",34),t.YNc(1,De,2,6,"div",35),t._UZ(2,"div",36,37),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.frozenColumns||e.frozenBodyTemplate),t.xp6(1),t.Q6J("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",t.WLB(5,Me,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function Le(i,r){1&i&&t.GkF(0)}function Re(i,r){if(1&i&&t.YNc(0,Le,1,0,"ng-container",20),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function Ne(i,r){1&i&&t.YNc(0,Re,1,1,"ng-template",23)}function Oe(i,r){1&i&&t.GkF(0)}function Ve(i,r){if(1&i&&t.YNc(0,Oe,1,0,"ng-container",20),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function Pe(i,r){1&i&&t.YNc(0,Ve,1,1,"ng-template",24)}function Fe(i,r){1&i&&t.GkF(0)}function He(i,r){if(1&i&&t.YNc(0,Fe,1,0,"ng-container",20),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function Be(i,r){1&i&&t.YNc(0,He,1,1,"ng-template",25)}function Ae(i,r){1&i&&t.GkF(0)}function Qe(i,r){if(1&i&&t.YNc(0,Ae,1,0,"ng-container",20),2&i){const e=t.oxw(3);t.Q6J("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function Ke(i,r){1&i&&t.YNc(0,Qe,1,1,"ng-template",26)}function Je(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"p-paginator",40),t.NdJ("onPageChange",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.onPageChange(n))}),t.YNc(1,Ne,1,0,null,15)(2,Pe,1,0,null,15)(3,Be,1,0,null,15)(4,Ke,1,0,null,15),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),t.xp6(1),t.Q6J("ngIf",e.paginatorFirstPageLinkIconTemplate),t.xp6(1),t.Q6J("ngIf",e.paginatorPreviousPageLinkIconTemplate),t.xp6(1),t.Q6J("ngIf",e.paginatorLastPageLinkIconTemplate),t.xp6(1),t.Q6J("ngIf",e.paginatorNextPageLinkIconTemplate)}}function Ue(i,r){1&i&&t.GkF(0)}function Ge(i,r){if(1&i&&(t.TgZ(0,"div",41),t.YNc(1,Ue,1,0,"ng-container",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function Ye(i,r){1&i&&t._UZ(0,"div",42,43)}function We(i,r){1&i&&t._UZ(0,"ArrowDownIcon")}function Ze(i,r){}function $e(i,r){1&i&&t.YNc(0,Ze,0,0,"ng-template")}function je(i,r){if(1&i&&(t.TgZ(0,"span",44,45),t.YNc(2,We,1,0,"ArrowDownIcon",15)(3,$e,1,0,null,20),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.reorderIndicatorUpIconTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate)}}function qe(i,r){1&i&&t._UZ(0,"ArrowUpIcon")}function Xe(i,r){}function et(i,r){1&i&&t.YNc(0,Xe,0,0,"ng-template")}function tt(i,r){if(1&i&&(t.TgZ(0,"span",46,47),t.YNc(2,qe,1,0,"ArrowUpIcon",15)(3,et,1,0,null,20),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.reorderIndicatorDownIconTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate)}}const it=(i,r,e,l,n)=>({"p-treetable p-component":!0,"p-treetable-hoverable-rows":i,"p-treetable-auto-layout":r,"p-treetable-resizable":e,"p-treetable-resizable-fit":l,"p-treetable-flex-scrollable":n}),lt=["pTreeTableBody",""];function nt(i,r){1&i&&t.GkF(0)}const ot=(i,r,e,l)=>({$implicit:i,node:r,rowData:e,columns:l});function rt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,nt,1,0,"ng-container",2),t.BQk()),2&i){const e=t.oxw().$implicit,l=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",t.l5B(2,ot,e,e.node,e.node.data,l.columns))}}function st(i,r){1&i&&t.YNc(0,rt,2,7,"ng-container",1),2&i&&t.Q6J("ngIf",r.$implicit.visible)}function at(i,r){1&i&&t.GkF(0)}const ct=(i,r)=>({$implicit:i,frozen:r});function dt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,at,1,0,"ng-container",2),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",t.WLB(2,ct,e.columns,e.frozen))}}const pt=["scrollHeader"],ht=["scrollHeaderBox"],ut=["scrollBody"],ft=["scrollTable"],gt=["loadingTable"],mt=["scrollFooter"],bt=["scrollFooterBox"],_t=["scrollableAligner"],Tt=["scroller"],Ct=["ttScrollableView",""];function wt(i,r){1&i&&t.GkF(0)}function vt(i,r){1&i&&t.GkF(0)}function St(i,r){1&i&&t.GkF(0)}const K=(i,r)=>({$implicit:i,options:r});function xt(i,r){if(1&i&&t.YNc(0,St,1,0,"ng-container",5),2&i){const e=r.$implicit,l=r.options;t.oxw(2);const n=t.MAs(11);t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.WLB(2,K,e,l))}}function yt(i,r){1&i&&t.GkF(0)}const It=i=>({options:i});function Et(i,r){if(1&i&&t.YNc(0,yt,1,0,"ng-container",5),2&i){const e=r.options,l=t.oxw(3);t.Q6J("ngTemplateOutlet",l.loaderTemplate)("ngTemplateOutletContext",t.VKq(2,It,e))}}function kt(i,r){1&i&&(t.ynx(0),t.YNc(1,Et,1,4,"ng-template",14),t.BQk())}const Dt=i=>({height:i});function Mt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"p-scroller",11,12),t.NdJ("onLazyLoad",function(n){t.CHM(e);const o=t.oxw();return t.KtG(o.tt.onLazyItemLoad(n))}),t.YNc(2,xt,1,5,"ng-template",13)(3,kt,2,0,"ng-container",8),t.qZA()}if(2&i){const e=t.oxw();t.Akn(t.VKq(8,Dt,"flex"!==e.tt.scrollHeight?e.tt.scrollHeight:void 0)),t.Q6J("items",e.tt.serializedValue)("scrollHeight","flex"!==e.scrollHeight?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),t.xp6(3),t.Q6J("ngIf",e.loaderTemplate)}}function zt(i,r){1&i&&t.GkF(0)}const Lt=(i,r)=>({"max-height":i,"overflow-y":r}),Rt=()=>({});function Nt(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",15,16),t.YNc(3,zt,1,0,"ng-container",5),t.qZA(),t.BQk()),2&i){const e=t.oxw(),l=t.MAs(11);t.xp6(1),t.Q6J("ngStyle",t.WLB(3,Lt,"flex"!==e.tt.scrollHeight?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),t.xp6(2),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.WLB(7,K,e.serializedValue,t.DdM(6,Rt)))}}function Ot(i,r){1&i&&t.GkF(0)}function Vt(i,r){1&i&&t._UZ(0,"div",21,22)}function Pt(i,r){if(1&i&&(t.TgZ(0,"table",17,18),t.YNc(2,Ot,1,0,"ng-container",5),t._UZ(3,"tbody",19),t.qZA(),t.YNc(4,Vt,2,0,"div",20)),2&i){const e=r.$implicit,l=r.options,n=t.oxw();t.Akn(l.contentStyle),t.Tol(n.tt.tableStyleClass),t.Q6J("ngClass",l.contentStyleClass)("ngStyle",n.tt.tableStyle),t.xp6(2),t.Q6J("ngTemplateOutlet",n.frozen&&n.tt.frozenColGroupTemplate||n.tt.colGroupTemplate)("ngTemplateOutletContext",t.VKq(13,T,n.columns)),t.xp6(1),t.Q6J("pTreeTableBody",n.columns)("pTreeTableBodyTemplate",n.frozen&&n.tt.frozenBodyTemplate||n.tt.bodyTemplate)("serializedNodes",e)("frozen",n.frozen),t.xp6(1),t.Q6J("ngIf",n.frozen)}}function Ft(i,r){1&i&&t.GkF(0)}function Ht(i,r){1&i&&t.GkF(0)}function Bt(i,r){if(1&i&&(t.TgZ(0,"div",23,24)(2,"div",25,26)(4,"table",27),t.YNc(5,Ft,1,0,"ng-container",5),t.TgZ(6,"tfoot",28),t.YNc(7,Ht,1,0,"ng-container",5),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),t.xp6(1),t.Q6J("ngTemplateOutlet",e.frozen&&e.tt.frozenColGroupTemplate||e.tt.colGroupTemplate)("ngTemplateOutletContext",t.VKq(6,T,e.columns)),t.xp6(2),t.Q6J("ngTemplateOutlet",e.frozen&&e.tt.frozenFooterTemplate||e.tt.footerTemplate)("ngTemplateOutletContext",t.VKq(8,T,e.columns))}}function At(i,r){1&i&&t._UZ(0,"SortAltIcon",3),2&i&&t.Q6J("styleClass","p-sortable-column-icon")}function Qt(i,r){1&i&&t._UZ(0,"SortAmountUpAltIcon",3),2&i&&t.Q6J("styleClass","p-sortable-column-icon")}function Kt(i,r){1&i&&t._UZ(0,"SortAmountDownIcon",3),2&i&&t.Q6J("styleClass","p-sortable-column-icon")}function Jt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,At,1,1,"SortAltIcon",2)(2,Qt,1,1,"SortAmountUpAltIcon",2)(3,Kt,1,1,"SortAmountDownIcon",2),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.sortOrder),t.xp6(1),t.Q6J("ngIf",1===e.sortOrder),t.xp6(1),t.Q6J("ngIf",-1===e.sortOrder)}}function Ut(i,r){}function Gt(i,r){1&i&&t.YNc(0,Ut,0,0,"ng-template")}function Yt(i,r){if(1&i&&(t.TgZ(0,"span",4),t.YNc(1,Gt,1,0,null,5),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.tt.sortIconTemplate)("ngTemplateOutletContext",t.VKq(2,T,e.sortOrder))}}function Wt(i,r){1&i&&t._UZ(0,"CheckIcon",7),2&i&&t.Q6J("styleClass","p-checkbox-icon")}function Zt(i,r){1&i&&t._UZ(0,"MinusIcon",7),2&i&&t.Q6J("styleClass","p-checkbox-icon")}function $t(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Wt,1,1,"CheckIcon",6)(2,Zt,1,1,"MinusIcon",6),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.checked),t.xp6(1),t.Q6J("ngIf",e.rowNode.node.partialSelected)}}function jt(i,r){}function qt(i,r){1&i&&t.YNc(0,jt,0,0,"ng-template")}const Xt=(i,r)=>({$implicit:i,partialSelected:r});function ei(i,r){if(1&i&&(t.TgZ(0,"span"),t.YNc(1,qt,1,0,null,8),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.tt.checkboxIconTemplate)("ngTemplateOutletContext",t.WLB(2,Xt,e.checked,e.rowNode.node.partialSelected))}}const ti=i=>({"p-checkbox-focused":i}),ii=(i,r,e,l)=>({"p-checkbox-box":!0,"p-highlight":i,"p-focus":r,"p-indeterminate":e,"p-disabled":l});function ai(i,r){1&i&&t._UZ(0,"ChevronDownIcon"),2&i&&t.uIk("aria-hidden",!0)}function ci(i,r){1&i&&t._UZ(0,"ChevronRightIcon"),2&i&&t.uIk("aria-hidden",!0)}function di(i,r){if(1&i&&(t.ynx(0),t.YNc(1,ai,1,1,"ChevronDownIcon",1)(2,ci,1,1,"ChevronRightIcon",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.rowNode.node.expanded),t.xp6(1),t.Q6J("ngIf",!e.rowNode.node.expanded)}}function pi(i,r){}function hi(i,r){1&i&&t.YNc(0,pi,0,0,"ng-template")}let y=(()=>{class i{sortSource=new x.x;selectionSource=new x.x;contextMenuSource=new x.x;uiUpdateSource=new x.x;totalRecordsSource=new x.x;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(l){return new(l||i)};static \u0275prov=t.Yz7({token:i,factory:i.\u0275fac})}return i})(),v=(()=>{class i{document;renderer;el;cd;zone;tableService;filterService;columns;style;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!0;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,l)=>l;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}_virtualRowHeight=28;selectionChange=new t.vpe;contextMenuSelectionChange=new t.vpe;onFilter=new t.vpe;onNodeExpand=new t.vpe;onNodeCollapse=new t.vpe;onPage=new t.vpe;onSort=new t.vpe;onLazyLoad=new t.vpe;sortFunction=new t.vpe;onColResize=new t.vpe;onColReorder=new t.vpe;onNodeSelect=new t.vpe;onNodeUnselect=new t.vpe;onContextMenuSelect=new t.vpe;onHeaderCheckboxToggle=new t.vpe;onEditInit=new t.vpe;onEditComplete=new t.vpe;onEditCancel=new t.vpe;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;templates;_value=[];serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;colGroupTemplate;captionTemplate;headerTemplate;bodyTemplate;footerTemplate;summaryTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;togglerIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectionKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template}})}constructor(e,l,n,o,s,a,c){this.document=e,this.renderer=l,this.el=n,this.cd=o,this.zone=s,this.tableService=a,this.filterService=c}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,l,n,o){if(l&&l.length)for(let s of l){s.parent=e;const a={node:s,parent:e,level:n,visible:o&&(!e||e.expanded)};this.serializedValue.push(a),a.visible&&s.expanded&&this.serializeNodes(s,s.children,n+1,a.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){const l=this.lazy?0:this.first;for(let n=l;n<l+this.rows;n++){let o=e[n];o&&(this.serializedValue.push({node:o,parent:null,level:0,visible:!0}),this.serializeNodes(o,o.children,1,!0))}}}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(m.gb.resolveFieldData(e.data,this.dataKey))]=1;else this.selectionKeys[String(m.gb.resolveFieldData(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let l=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),"multiple"===this.sortMode){let n=l.metaKey||l.ctrlKey,o=this.getSortMeta(e.field);o?n?o.order=-1*o.order:(this._multiSortMeta=[{field:e.field,order:-1*o.order}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!n||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(e&&0!==e.length){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((l,n)=>{let o=m.gb.resolveFieldData(l.data,this.sortField),s=m.gb.resolveFieldData(n.data,this.sortField),a=null;return a=null==o&&null!=s?-1:null!=o&&null==s?1:null==o&&null==s?0:"string"==typeof o&&"string"==typeof s?o.localeCompare(s,void 0,{numeric:!0}):o<s?-1:o>s?1:0,this.sortOrder*a});for(let l of e)this.sortNodes(l.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(e&&0!==e.length){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((l,n)=>this.multisortField(l,n,this.multiSortMeta,0));for(let l of e)this.sortMultipleNodes(l.children)}}multisortField(e,l,n,o){if(m.gb.isEmpty(this.multiSortMeta)||m.gb.isEmpty(n[o]))return 0;let s=m.gb.resolveFieldData(e.data,n[o].field),a=m.gb.resolveFieldData(l.data,n[o].field),c=null;if(null==s&&null!=a?c=-1:null!=s&&null==a?c=1:null==s&&null==a&&(c=0),"string"==typeof s||s instanceof String){if(s.localeCompare&&s!=a)return n[o].order*s.localeCompare(a,void 0,{numeric:!0})}else c=s<a?-1:1;return s==a?n.length-1>o?this.multisortField(e,l,n,o+1):0:n[o].order*c}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let l=0;l<this.multiSortMeta.length;l++)if(this.multiSortMeta[l].field===e)return this.multiSortMeta[l];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let l=!1;if(this.multiSortMeta)for(let n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==e){l=!0;break}return l}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...e,rows:e.last-e.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let l=d.p.getOffset(this.containerViewChild?.nativeElement).left;this.lastResizerHelperX=e.pageX-l+this.containerViewChild?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let l=d.p.getOffset(this.containerViewChild?.nativeElement).left;d.p.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-l+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,l){let n=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,o=l.offsetWidth,s=o+n;if(o+n>parseInt(l.style.minWidth||15)){if("fit"===this.columnResizeMode){let c=l.nextElementSibling;for(;!c.offsetParent;)c=c.nextElementSibling;if(c){let p=c.offsetWidth-n;if(s>15&&p>parseInt(c.style.minWidth||15))if(this.scrollable){let b=this.findParentScrollableView(l),g=d.p.findSingle(b,".p-treetable-scrollable-body table")||d.p.findSingle(b,".p-scroller-viewport table"),_=d.p.findSingle(b,"table.p-treetable-scrollable-header-table"),C=d.p.findSingle(b,"table.p-treetable-scrollable-footer-table"),w=d.p.index(l);this.resizeColGroup(_,w,s,p),this.resizeColGroup(g,w,s,p),this.resizeColGroup(C,w,s,p)}else l.style.width=s+"px",c&&(c.style.width=p+"px")}}else if("expand"===this.columnResizeMode)if(this.scrollable){let c=this.findParentScrollableView(l),p=d.p.findSingle(c,".p-treetable-scrollable-body")||d.p.findSingle(c,".p-scroller-viewport"),u=d.p.findSingle(c,".p-treetable-scrollable-header"),b=d.p.findSingle(c,".p-treetable-scrollable-footer"),g=d.p.findSingle(c,".p-treetable-scrollable-body table")||d.p.findSingle(c,".p-scroller-viewport table"),_=d.p.findSingle(c,"table.p-treetable-scrollable-header-table"),C=d.p.findSingle(c,"table.p-treetable-scrollable-footer-table");g.style.width=g.offsetWidth+n+"px",_.style.width=_.offsetWidth+n+"px",C&&(C.style.width=C.offsetWidth+n+"px");let w=d.p.index(l);const I=l?g.offsetWidth+n:s,E=l?_.offsetWidth+n:s,D=this.containerViewChild?.nativeElement.offsetWidth>=I;let M=(U,G,Y,Ci)=>{U&&G&&(U.style.width=Ci?Y+d.p.calculateScrollbarWidth(p)+"px":"auto",G.style.width=Y+"px")};M(p,g,I,D),M(u,_,E,D),M(b,C,E,D),this.resizeColGroup(_,w,s,null),this.resizeColGroup(g,w,s,null),this.resizeColGroup(C,w,s,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+n+"px",l.style.width=s+"px";let c=this.tableViewChild?.nativeElement.style.width;this.containerViewChild.nativeElement.style.width=c+"px"}this.onColResize.emit({element:l,delta:n})}this.resizeHelperViewChild.nativeElement.style.display="none",d.p.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let l=e.parentElement;for(;l&&!d.p.hasClass(l,"p-treetable-scrollable-view");)l=l.parentElement;return l}return null}resizeColGroup(e,l,n,o){if(e){let s="COLGROUP"===e.children[0].nodeName?e.children[0]:null;if(!s)throw"Scrollable tables require a colgroup to support resizable columns";{let a=s.children[l],c=a.nextElementSibling;a.style.width=n+"px",c&&o&&(c.style.width=o+"px")}}}onColumnDragStart(e,l){this.reorderIconWidth=d.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=d.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=l,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,l){if(this.reorderableColumns&&this.draggedColumn&&l){e.preventDefault();let n=d.p.getOffset(this.containerViewChild?.nativeElement),o=d.p.getOffset(l);if(this.draggedColumn!=l){let s=o.left-n.left,c=o.left+l.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=o.top-n.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=o.top-n.top+l.offsetHeight+"px",e.pageX>c?(this.reorderIndicatorUpViewChild.nativeElement.style.left=s+l.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=s+l.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=s-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=s-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,l){if(e.preventDefault(),this.draggedColumn){let n=d.p.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),o=d.p.indexWithinGroup(l,"ttreorderablecolumn"),s=n!=o;s&&(o-n==1&&-1===this.dropPosition||n-o==1&&1===this.dropPosition)&&(s=!1),s&&o<n&&1===this.dropPosition&&(o+=1),s&&o>n&&-1===this.dropPosition&&(o-=1),s&&(m.gb.reorderArray(this.columns,n,o),this.onColReorder.emit({dragIndex:n,dropIndex:o,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let l=e.originalEvent.target.nodeName;if("INPUT"!=l&&"BUTTON"!=l&&"A"!=l&&!d.p.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let n=e.rowNode,o=this.isSelected(n.node),s=!this.rowTouched&&this.metaKeySelection,a=this.dataKey?String(m.gb.resolveFieldData(n.node.data,this.dataKey)):null;if(s){let c=e.originalEvent,p=c.metaKey||c.ctrlKey;if(o&&p){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let u=this.findIndexInSelection(n.node);this._selection=this.selection.filter((b,g)=>g!=u),this.selectionChange.emit(this.selection),a&&delete this.selectionKeys[a]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=n.node,this.selectionChange.emit(n.node),a&&(this.selectionKeys={},this.selectionKeys[a]=1)):this.isMultipleSelectionMode()&&(p?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,n.node],this.selectionChange.emit(this.selection),a&&(this.selectionKeys[a]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex})}else if("single"===this.selectionMode)o?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"})):(this._selection=n.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex}),a&&(this.selectionKeys={},this.selectionKeys[a]=1));else if("multiple"===this.selectionMode)if(o){let c=this.findIndexInSelection(n.node);this._selection=this.selection.filter((p,u)=>u!=c),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:n.node,type:"row"}),a&&delete this.selectionKeys[a]}else this._selection=this.selection?[...this.selection,n.node]:[n.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:n.node,type:"row",index:e.rowIndex}),a&&(this.selectionKeys[a]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const l=e.rowNode.node;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=l,this.contextMenuSelectionChange.emit(l),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:l}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(l);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let n=this.isSelected(l),o=this.dataKey?String(m.gb.resolveFieldData(l.data,this.dataKey)):null;n||(this.isSingleSelectionMode()?(this.selection=l,this.selectionChange.emit(l)):this.isMultipleSelectionMode()&&(this.selection=[l],this.selectionChange.emit(this.selection)),o&&(this.selectionKeys[o]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:l})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let l=e.rowNode.node;this.isSelected(l)?(this.propagateSelectionDown(l,!1),e.rowNode.parent&&this.propagateSelectionUp(l.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:l})):(this.propagateSelectionDown(l,!0),e.rowNode.parent&&this.propagateSelectionUp(l.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:l})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,l){let n=this.filteredNodes||this.value;if(this._selection=l&&n?n.slice():[],l){if(n&&n.length)for(let o of n)this.propagateSelectionDown(o,!0)}else this._selection=[],this.selectionKeys={};this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:l})}propagateSelectionUp(e,l){if(e.children&&e.children.length){let o=0,s=!1,a=this.dataKey?String(m.gb.resolveFieldData(e.data,this.dataKey)):null;for(let c of e.children)this.isSelected(c)?o++:c.partialSelected&&(s=!0);if(l&&o==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,a&&(this.selectionKeys[a]=1);else{if(!l){let c=this.findIndexInSelection(e);c>=0&&(this._selection=this.selection.filter((p,u)=>u!=c),a&&delete this.selectionKeys[a])}e.partialSelected=!!(s||o>0&&o!=e.children.length)}}let n=e.parent;n&&this.propagateSelectionUp(n,l)}propagateSelectionDown(e,l){let n=this.findIndexInSelection(e),o=this.dataKey?String(m.gb.resolveFieldData(e.data,this.dataKey)):null;if(l&&-1==n?(this._selection=[...this.selection||[],e],o&&(this.selectionKeys[o]=1)):!l&&n>-1&&(this._selection=this.selection.filter((s,a)=>a!=n),o&&delete this.selectionKeys[o]),e.partialSelected=!1,e.children&&e.children.length)for(let s of e.children)this.propagateSelectionDown(s,l)}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[m.gb.resolveFieldData(e.data,this.dataKey)]:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let l=-1;if(this.selection&&this.selection.length)for(let n=0;n<this.selection.length;n++)if(this.equals(e,this.selection[n])){l=n;break}return l}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}equals(e,l){return"equals"===this.compareSelectionBy?e===l:m.gb.equals(e.data,l.data,this.dataKey)}filter(e,l,n){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[l]&&delete this.filters[l]:this.filters[l]={value:e,matchMode:n},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,l){this.filter(e,"global",l)}isFilterBlank(e){return null==e||!!("string"==typeof e&&0==e.trim().length||Array.isArray(e)&&0==e.length)}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let l;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");l=this.globalFilterFields||this.columns}this.filteredNodes=[];const n="strict"===this.filterMode;let o=!1;for(let s of this.value){let u,a={...s},c=!0,p=!1;for(let g in this.filters)if(this.filters.hasOwnProperty(g)&&"global"!==g){let _=this.filters[g];if(u={filterField:g,filterValue:_.value,filterConstraint:this.filterService.filters[_.matchMode||"startsWith"],isStrictMode:n},(n&&!(this.findFilteredNodes(a,u)||this.isFilterMatched(a,u))||!n&&!(this.isFilterMatched(a,u)||this.findFilteredNodes(a,u)))&&(c=!1),!c)break}if(this.filters.global&&!p&&l){let _,g={...a};u={filterField:_,filterValue:this.filters.global.value,filterConstraint:this.filterService.filters[this.filters.global.matchMode],isStrictMode:n,globalFilterFieldsArray:l},(n&&(this.findFilteredNodes(g,u)||this.isFilterMatched(g,u))||!n&&(this.isFilterMatched(g,u)||this.findFilteredNodes(g,u)))&&(p=!0,a=g)}let b=c;this.filters.global&&(b=c&&p),b&&this.filteredNodes.push(a),o=o||!c||p||c&&this.filteredNodes.length>0||!p&&0===this.filteredNodes.length}o||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}else this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.first=0;const e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,l){if(e){let n=!1;if(e.children){let o=[...e.children];e.children=[];for(let s of o){let a={...s};this.isFilterMatched(a,l)&&(n=!0,e.children.push(a))}}if(n)return!0}}isFilterMatched(e,l){let{filterField:n,filterValue:o,filterConstraint:s,isStrictMode:a,globalFilterFieldsArray:c}=l,p=!1;const u=b=>s(m.gb.resolveFieldData(e.data,b),o,this.filterLocale);return p=c?.length?c.some(b=>u(b.field||b)):u(n),(!p||a&&!this.isNodeLeaf(e))&&(p=this.findFilteredNodes(e,{filterField:n,filterValue:o,filterConstraint:s,isStrictMode:a,globalFilterFieldsArray:c})||p),p}isNodeLeaf(e){return!1!==e.leaf&&!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let l in this.filters)if(this.filters.hasOwnProperty(l)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,l,n){this.editingCell=e,this.editingCellData=l,this.editingCellField=n,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===d.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(d.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null}static \u0275fac=function(l){return new(l||i)(t.Y36(h.K0),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(y),t.Y36(S.iZ))};static \u0275cmp=t.Xpm({type:i,selectors:[["p-treeTable"]],contentQueries:function(l,n,o){if(1&l&&t.Suo(o,S.jx,4),2&l){let s;t.iGM(s=t.CRH())&&(n.templates=s)}},viewQuery:function(l,n){if(1&l&&(t.Gf(Z,5),t.Gf($,5),t.Gf(j,5),t.Gf(q,5),t.Gf(X,5),t.Gf(ee,5),t.Gf(te,5)),2&l){let o;t.iGM(o=t.CRH())&&(n.containerViewChild=o.first),t.iGM(o=t.CRH())&&(n.resizeHelperViewChild=o.first),t.iGM(o=t.CRH())&&(n.reorderIndicatorUpViewChild=o.first),t.iGM(o=t.CRH())&&(n.reorderIndicatorDownViewChild=o.first),t.iGM(o=t.CRH())&&(n.tableViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollableViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollableFrozenViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:"autoLayout",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",paginator:"paginator",rows:"rows",first:"first",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",customSort:"customSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",compareSelectionBy:"compareSelectionBy",rowHover:"rowHover",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",scrollable:"scrollable",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel"},features:[t._Bn([y]),t.TTD],decls:12,vars:20,consts:[["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["container",""],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","p-treetable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","p-treetable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-treetable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-treetable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-treetable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-treetable-header"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[1,"p-treetable-wrapper"],["role","table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],["role","rowgroup",1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],["scrollableView",""],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["scrollableFrozenView",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"p-treetable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"p-treetable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(l,n){1&l&&(t.TgZ(0,"div",0,1),t.YNc(2,ae,4,2,"div",2)(3,de,2,1,"div",3)(4,Se,5,21,"p-paginator",4)(5,Ee,9,16,"div",5)(6,ze,4,8,"div",6)(7,Je,5,21,"p-paginator",7)(8,Ge,2,1,"div",8)(9,Ye,2,0,"div",9)(10,je,4,2,"span",10)(11,tt,4,2,"span",11),t.qZA()),2&l&&(t.Tol(n.styleClass),t.Q6J("ngStyle",n.style)("ngClass",t.qbA(14,it,n.rowHover||"single"===n.selectionMode||"multiple"===n.selectionMode,n.autoLayout,n.resizableColumns,n.resizableColumns&&"fit"===n.columnResizeMode,n.scrollable&&"flex"===n.scrollHeight)),t.xp6(2),t.Q6J("ngIf",n.loading&&n.showLoader),t.xp6(1),t.Q6J("ngIf",n.captionTemplate),t.xp6(1),t.Q6J("ngIf",n.paginator&&("top"===n.paginatorPosition||"both"==n.paginatorPosition)),t.xp6(1),t.Q6J("ngIf",!n.scrollable),t.xp6(1),t.Q6J("ngIf",n.scrollable),t.xp6(1),t.Q6J("ngIf",n.paginator&&("bottom"===n.paginatorPosition||"both"==n.paginatorPosition)),t.xp6(1),t.Q6J("ngIf",n.summaryTemplate),t.xp6(1),t.Q6J("ngIf",n.resizableColumns),t.xp6(1),t.Q6J("ngIf",n.reorderableColumns),t.xp6(1),t.Q6J("ngIf",n.reorderableColumns))},dependencies:()=>[h.mk,h.O5,h.tP,h.PC,A.D,S.jx,B.L,z.v,L.H,ui,J],styles:["@layer primeng{.p-treetable{position:relative}.p-treetable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-treetable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-treetable .p-sortable-column .p-column-title,.p-treetable .p-sortable-column .p-sortable-column-icon,.p-treetable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-treetable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-treetable-auto-layout>.p-treetable-wrapper{overflow-x:auto}.p-treetable-auto-layout>.p-treetable-wrapper>table{table-layout:auto}.p-treetable-hoverable-rows .p-treetable-tbody>tr{cursor:pointer}.p-treetable-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;overflow:hidden;position:relative}p-treetabletoggler+p-treetablecheckbox .p-checkbox{vertical-align:middle}p-treetabletoggler+p-treetablecheckbox+span{vertical-align:middle}.p-treetable-scrollable-wrapper{position:relative}.p-treetable-scrollable-header,.p-treetable-scrollable-footer{overflow:hidden}.p-treetable-scrollable-body{overflow:auto;position:relative}.p-treetable-scrollable-body>table>.p-treetable-tbody>tr:first-child>td{border-top:0 none}.p-treetable-virtual-table{position:absolute}.p-treetable-frozen-view .p-treetable-scrollable-body{overflow:hidden}.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child{border-right:0 none}.p-treetable-unfrozen-view{position:absolute;top:0}.p-treetable-flex-scrollable,.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,.p-treetable-flex-scrollable .p-treetable-scrollable-view{display:flex;flex-direction:column;flex:1;height:100%}.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body{flex:1}.p-treetable-resizable>.p-treetable-wrapper{overflow-x:auto}.p-treetable-resizable .p-treetable-thead>tr>th,.p-treetable-resizable .p-treetable-tfoot>tr>td,.p-treetable-resizable .p-treetable-tbody>tr>td{overflow:hidden}.p-treetable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-treetable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-treetable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-treetable .p-row-editor-init,.p-treetable .p-row-editor-save,.p-treetable .p-row-editor-cancel,.p-treetable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-treetable-reorder-indicator-up,.p-treetable-reorder-indicator-down{position:absolute;display:none}[ttReorderableColumn]{cursor:move}.p-treetable .p-treetable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-treetable .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}\n"],encapsulation:2})}return i})(),J=(()=>{class i{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,l,n){this.tt=e,this.treeTableService=l,this.cd=n,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,l){return this.tt.virtualScroll&&(l=l||this.scrollerOptions)?l[e]:null}getRowIndex(e){const l=this.getScrollerOption("getItemOptions");return l?l(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(l){return new(l||i)(t.Y36(v),t.Y36(y),t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:i,selectors:[["","pTreeTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTreeTableBody","columns"],template:["pTreeTableBodyTemplate","template"],frozen:"frozen",serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},attrs:lt,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,n){1&l&&t.YNc(0,st,1,1,"ng-template",0)(1,dt,2,5,"ng-container",1),2&l&&(t.Q6J("ngForOf",n.serializedNodes||n.tt.serializedValue)("ngForTrackBy",n.tt.rowTrackBy),t.xp6(1),t.Q6J("ngIf",n.tt.isEmpty()))},dependencies:[h.sg,h.O5,h.tP],encapsulation:2})}return i})(),ui=(()=>{class i{platformId;renderer;tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,null!=e&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,l,n,o,s){this.platformId=e,this.renderer=l,this.tt=n,this.el=o,this.zone=s}ngAfterViewInit(){if((0,h.NF)(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=d.p.calculateScrollbarHeight()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate)&&d.p.addClass(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;e&&(this.frozenSiblingBody=d.p.findSingle(e,this.tt.virtualScroll?".p-scroller-viewport":".p-treetable-scrollable-body"));let l=d.p.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=l+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=l+"px")}this.bindEvents()}}bindEvents(){(0,h.NF)(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.bodyScrollListener=this.renderer.listen(this.tt.virtualScroll?(this.scroller?.getElementRef()).nativeElement:this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){(0,h.NF)(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){const e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){const e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){this.preventBodyScrollPropagation?this.preventBodyScrollPropagation=!1:(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop))}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(l){return new(l||i)(t.Y36(t.Lbi),t.Y36(t.Qsj),t.Y36(v),t.Y36(t.SBq),t.Y36(t.R0b))};static \u0275cmp=t.Xpm({type:i,selectors:[["","ttScrollableView",""]],viewQuery:function(l,n){if(1&l&&(t.Gf(pt,5),t.Gf(ht,5),t.Gf(ut,5),t.Gf(ft,5),t.Gf(gt,5),t.Gf(mt,5),t.Gf(bt,5),t.Gf(_t,5),t.Gf(Tt,5)),2&l){let o;t.iGM(o=t.CRH())&&(n.scrollHeaderViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollHeaderBoxViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollBodyViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollTableViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollLoadingTableViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollFooterViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollFooterBoxViewChild=o.first),t.iGM(o=t.CRH())&&(n.scrollableAlignerViewChild=o.first),t.iGM(o=t.CRH())&&(n.scroller=o.first)}},hostAttrs:[1,"p-element"],inputs:{columns:["ttScrollableView","columns"],frozen:"frozen",scrollHeight:"scrollHeight"},attrs:Ct,decls:13,vars:13,consts:[[1,"p-treetable-scrollable-header"],["scrollHeader",""],[1,"p-treetable-scrollable-header-box"],["scrollHeaderBox",""],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["styleClass","p-treetable-scrollable-body",3,"items","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],["class","p-treetable-scrollable-footer",4,"ngIf"],["styleClass","p-treetable-scrollable-body",3,"items","scrollHeight","itemSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["scrollBody",""],["role","table",3,"ngClass","ngStyle"],["scrollTable",""],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],["style","background-color:transparent",4,"ngIf"],[2,"background-color","transparent"],["scrollableAligner",""],[1,"p-treetable-scrollable-footer"],["scrollFooter",""],[1,"p-treetable-scrollable-footer-box"],["scrollFooterBox",""],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tfoot"]],template:function(l,n){1&l&&(t.TgZ(0,"div",0,1)(2,"div",2,3)(4,"table",4),t.YNc(5,wt,1,0,"ng-container",5),t.TgZ(6,"thead",6),t.YNc(7,vt,1,0,"ng-container",5),t.qZA()()()(),t.YNc(8,Mt,4,10,"p-scroller",7)(9,Nt,4,10,"ng-container",8)(10,Pt,5,15,"ng-template",null,9,t.W1O)(12,Bt,8,10,"div",10)),2&l&&(t.xp6(4),t.Q6J("ngClass",n.tt.tableStyleClass)("ngStyle",n.tt.tableStyle),t.xp6(1),t.Q6J("ngTemplateOutlet",n.frozen&&n.tt.frozenColGroupTemplate||n.tt.colGroupTemplate)("ngTemplateOutletContext",t.VKq(9,T,n.columns)),t.xp6(2),t.Q6J("ngTemplateOutlet",n.frozen&&n.tt.frozenHeaderTemplate||n.tt.headerTemplate)("ngTemplateOutletContext",t.VKq(11,T,n.columns)),t.xp6(1),t.Q6J("ngIf",n.tt.virtualScroll),t.xp6(1),t.Q6J("ngIf",!n.tt.virtualScroll),t.xp6(3),t.Q6J("ngIf",n.tt.footerTemplate))},dependencies:[h.mk,h.O5,h.tP,h.PC,S.jx,k.T,J],encapsulation:2})}return i})(),fi=(()=>{class i{tt;field;ttSortableColumnDisabled;sorted;subscription;get ariaSorted(){return this.sorted&&this.tt.sortOrder<0?"descending":this.sorted&&this.tt.sortOrder>0?"ascending":"none"}constructor(e){this.tt=e,this.isEnabled()&&(this.subscription=this.tt.tableService.sortSource$.subscribe(l=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.tt.isSorted(this.field)}onClick(e){this.isEnabled()&&(this.updateSortState(),this.tt.sort({originalEvent:e,field:this.field}),d.p.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.ttSortableColumnDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(l){return new(l||i)(t.Y36(v))};static \u0275dir=t.lG2({type:i,selectors:[["","ttSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(l,n){1&l&&t.NdJ("click",function(s){return n.onClick(s)})("keydown.enter",function(s){return n.onEnterKey(s)}),2&l&&(t.uIk("tabindex",n.isEnabled()?"0":null)("role","columnheader")("aria-sort",n.ariaSorted),t.ekj("p-sortable-column",n.isEnabled())("p-highlight",n.sorted))},inputs:{field:["ttSortableColumn","field"],ttSortableColumnDisabled:"ttSortableColumnDisabled"}})}return i})(),gi=(()=>{class i{tt;cd;field;ariaLabelDesc;ariaLabelAsc;subscription;sortOrder;constructor(e,l){this.tt=e,this.cd=l,this.subscription=this.tt.tableService.sortSource$.subscribe(n=>{this.updateSortState(),this.cd.markForCheck()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.tt.sortMode)this.sortOrder=this.tt.isSorted(this.field)?this.tt.sortOrder:0;else if("multiple"===this.tt.sortMode){let e=this.tt.getSortMeta(this.field);this.sortOrder=e?e.order:0}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(l){return new(l||i)(t.Y36(v),t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:i,selectors:[["p-treeTableSortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field",ariaLabelDesc:"ariaLabelDesc",ariaLabelAsc:"ariaLabelAsc"},decls:2,vars:2,consts:[[4,"ngIf"],["class","p-sortable-column-icon",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-sortable-column-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,n){1&l&&t.YNc(0,Jt,4,3,"ng-container",0)(1,Yt,2,4,"span",1),2&l&&(t.Q6J("ngIf",!n.tt.sortIconTemplate),t.xp6(1),t.Q6J("ngIf",n.tt.sortIconTemplate))},dependencies:()=>[h.O5,h.tP,P.V,H.m,F.W],encapsulation:2,changeDetection:0})}return i})(),mi=(()=>{class i{tt;tableService;cd;disabled;rowNode;checked;focused;subscription;constructor(e,l,n){this.tt=e,this.tableService=l,this.cd=n,this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.checked=this.tt.isSelected(this.rowNode.node),this.cd.markForCheck()})}ngOnInit(){this.checked=this.tt.isSelected(this.rowNode.node)}onClick(e){this.disabled||this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode}),d.p.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(l){return new(l||i)(t.Y36(v),t.Y36(y),t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:i,selectors:[["p-treeTableCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",rowNode:["value","rowNode"]},decls:7,vars:13,consts:[[1,"p-checkbox","p-component",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox","tabindex","-1",3,"checked","focus","blur"],["role","checkbox",3,"ngClass"],["box",""],[4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,n){1&l&&(t.TgZ(0,"div",0),t.NdJ("click",function(s){return n.onClick(s)}),t.TgZ(1,"div",1)(2,"input",2),t.NdJ("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()}),t.qZA()(),t.TgZ(3,"div",3,4),t.YNc(5,$t,3,2,"ng-container",5)(6,ei,2,5,"span",5),t.qZA()()),2&l&&(t.Q6J("ngClass",t.VKq(6,ti,n.focused)),t.xp6(2),t.Q6J("checked",n.checked),t.xp6(1),t.Q6J("ngClass",t.l5B(8,ii,n.checked,n.focused,n.rowNode.node.partialSelected,n.disabled)),t.uIk("aria-checked",n.checked),t.xp6(2),t.Q6J("ngIf",!n.tt.checkboxIconTemplate),t.xp6(1),t.Q6J("ngIf",n.tt.checkboxIconTemplate))},dependencies:()=>[h.mk,h.O5,h.tP,R.n,V.V],encapsulation:2,changeDetection:0})}return i})(),bi=(()=>{class i{tt;el;zone;get level(){return this.rowNode?.level+1}get expanded(){return this.rowNode?.node.expanded}rowNode;constructor(e,l,n){this.tt=e,this.el=l,this.zone=n}onKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Tab":this.onTabKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e)}}onArrowDownKey(e){let l=this.el?.nativeElement?.nextElementSibling;l&&this.focusRowChange(e.currentTarget,l),e.preventDefault()}onArrowUpKey(e){let l=this.el?.nativeElement?.previousElementSibling;l&&this.focusRowChange(e.currentTarget,l),e.preventDefault()}onArrowRightKey(e){const l=e.currentTarget;!("hidden"===d.p.findSingle(l,"button").style.visibility)&&!this.expanded&&this.rowNode.node.children&&(this.expand(e),l.tabIndex=-1),e.preventDefault()}onArrowLeftKey(e){const l=this.tt.containerViewChild?.nativeElement,n=d.p.find(l,'[aria-expanded="true"]'),o=n[n.length-1];this.expanded&&this.collapse(e),o&&(this.tt.toggleRowIndex=d.p.index(o)),this.restoreFocus(),e.preventDefault()}onHomeKey(e){const l=d.p.findSingle(this.tt.containerViewChild?.nativeElement,`tr[aria-level="${this.level}"]`);l&&d.p.focus(l),e.preventDefault()}onEndKey(e){const l=d.p.find(this.tt.containerViewChild?.nativeElement,`tr[aria-level="${this.level}"]`);d.p.focus(l[l.length-1]),e.preventDefault()}onTabKey(e){const l=this.el.nativeElement?[...d.p.find(this.el.nativeElement.parentNode,"tr")]:void 0;if(l&&m.gb.isNotEmpty(l)){const n=l.some(o=>d.p.getAttribute(o,"data-p-highlight")||"true"===o.getAttribute("aria-checked"));if(l.forEach(o=>{o.tabIndex=-1}),n)return void(l.filter(s=>d.p.getAttribute(s,"data-p-highlight")||"true"===s.getAttribute("aria-checked"))[0].tabIndex=0);l[0].tabIndex=0}}expand(e){this.tt.toggleRowIndex=d.p.index(this.el.nativeElement),this.rowNode.node.expanded=!0,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.rowNode.node.children?this.restoreFocus(this.tt.toggleRowIndex+1):this.restoreFocus(),this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node})}collapse(e){this.rowNode.node.expanded=!1,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node})}focusRowChange(e,l,n){e.tabIndex="-1",l.tabIndex="0",d.p.focus(l)}restoreFocus(e){this.zone.runOutsideAngular(()=>{setTimeout(()=>{const l=this.tt.containerViewChild?.nativeElement,n=d.p.findSingle(l,".p-treetable-tbody").children[e||this.tt.toggleRowIndex],o=[...d.p.find(l,"tr")];o&&o.forEach(s=>{n.isSameNode(s)||(s.tabIndex=-1)}),n&&(n.tabIndex=0,n.focus())},25)})}static \u0275fac=function(l){return new(l||i)(t.Y36(v),t.Y36(t.SBq),t.Y36(t.R0b))};static \u0275dir=t.lG2({type:i,selectors:[["","ttRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(l,n){1&l&&t.NdJ("keydown",function(s){return n.onKeyDown(s)}),2&l&&t.uIk("tabindex","0")("aria-expanded",n.expanded)("aria-level",n.level)("data-pc-section",n.row)("role",n.row)},inputs:{rowNode:["ttRow","rowNode"]}})}return i})(),_i=(()=>{class i{tt;config;rowNode;constructor(e,l){this.tt=e,this.config=l}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(l){return new(l||i)(t.Y36(v),t.Y36(S.b4))};static \u0275cmp=t.Xpm({type:i,selectors:[["p-treeTableToggler"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode"},decls:3,vars:12,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,n){1&l&&(t.TgZ(0,"button",0),t.NdJ("click",function(s){return n.onClick(s)}),t.YNc(1,di,3,2,"ng-container",1)(2,hi,1,0,null,2),t.qZA()),2&l&&(t.Udp("visibility",!1===n.rowNode.node.leaf||n.rowNode.node.children&&n.rowNode.node.children.length?"visible":"hidden")("margin-left",16*n.rowNode.level+"px"),t.uIk("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",n.toggleButtonAriaLabel),t.xp6(1),t.Q6J("ngIf",!n.tt.togglerIconTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",n.tt.togglerIconTemplate)("ngTemplateOutletContext",t.VKq(10,T,n.rowNode.node.expanded)))},dependencies:()=>[h.O5,h.tP,Q.H,N.v,O.X],encapsulation:2})}return i})(),Ti=(()=>{class i{static \u0275fac=function(l){return new(l||i)};static \u0275mod=t.oAB({type:i});static \u0275inj=t.cJS({imports:[h.ez,A.U,Q.T,k.v,B.L,z.v,L.H,P.V,H.m,F.W,R.n,V.V,N.v,O.X,S.m8,k.v]})}return i})()}}]);